/********************************************************************************
*
* Adobe Fillable Form
*
* ADOBE CONFIDENTIAL
* ___________________
*
*  (c) Copyright 2010 Adobe Systems, Inc.
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and may be covered by U.S. and Foreign Patents,
* patents in process, and are protected by trade secret or copyright law.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**********************************************************************************/
(function(F){F.extend(F,{adobeForm:function(j){try{this.initAdobeForm(j)}catch(k){F.adobeForm.log("Error constructing the Adobe Form object.  "+F.adobeForm.messages.pleaseContact)}}});F.extend(F.adobeForm,{create:function(j){var l=undefined;try{var k=F(F.adobeForm.options.form);if(k.length){l=k.data("adobeForm");if(!l){l=k.data("adobeForm",new F.adobeForm(j))}}}catch(m){F.adobeForm.log("Error constructing the Adobe Form object.  "+(F.adobeForm.messages?F.adobeForm.messages.pleaseContact:"Please contact FormsCentral_feedback@adobe.com"))}return l},options:{attachmentLegal:"#attachmentlegal",confirmMsg:"#confirmmsg",form:"#form",formComplete:"#complete",formDataIsCached:"#pagecachedata [name=iscached]",formHasUnsavedAttachments:"#pagecachedata [name=unsavedattachments]",footer:"#footer",header:"#header",infoHeader:"#infoheader",infoHeaderText:"#infoheadertext",nextButton:"#nextbutton",pageCountSpan:"#pagecountspan",paymentLogoDiv:"#paymentlogo",pleaseWait:"#pleasewait",saveFormProgress:"#saveformprogress",saveFormDialog:"#saveformdialog",prevButton:"#prevbutton",previewRibbon:"#previewribbon",previewRibbonArea:"#previewribbonarea",progressBar:"#progressbarblock",progressBarText:"#progressbartext",progressBarValue:"#progressbarvalue",uploadForm:"#uploadform",uploadTarget:"#uploadtarget",saveFormContainer:"#saveformcontainer",sliderTrigger:"#slidertrigger",sliderMsg:"#slidermsg",attachment:".attachment",attachmentButton:".attachmentbutton",attachmentButtonContainer:".attachmentbuttoncontainer",attachmentButtonHighlight:".attachmentbuttonhighlight",attachmentButtonHover:".attachmentbuttonhover",attachmentButtonFileInputImpl:".attachmentbuttonfileinputimpl",attachmentButtonForwardClickImpl:".attachmentbuttonforwardclickimpl",attachmentButtonTransparentImpl:".attachmentbuttontransparentimpl",attachmentField:".attachmentField",attachmentFile:".attachmentfile",attachmentList:".attachmentlist",attachments:".attachments",attachmentUI:".attachmentui",camera:".camera",caption:".caption",capAbove:".capabove",choiceButton:".choiceinput input",choiceField:".choicefield",choiceGroup:".choicegroup",choiceHasOtherButton:".choicehasother",choiceInput:".choiceinput",choiceOtherButton:".choicefield.other .choiceinput input",choiceOtherText:".choicelabel + input",choiceTableData:".ctd",control:".control",currency:".currency",cttable:".cttable",date:".date",datePicker:".datepicker",dropdown:".dropdown",ddOther:".dropdown.other",email:".email",field:".field",fieldContent:".fieldcontent",fieldError:".fielderror",fieldErrorArrow:".fielderrorarrow",fieldErrorBorder:".fielderrorborder",footerMargins:".footermargins",formPage:".formpage",formRow:".formrow",helpButton:".helpbutton",hideField:".hidefield",ie6MarginHack:".ie6fielderror",ie6MarginHack2:".ie6fielderror2",likertQuestion:".ctqrow",paymentQuantity:".paymentquantity",priceNumber:".pricenumber",priceCurrency:".pricecurrency",navBtn:".navbtn",number:".number",numberLimit:".numberLimit",paymentLogoFit:".paymentlogofit",paymentLogoWrap:".paymentlogowrap",percent:".percent",promoCaption:".promocaption",pngFix:".pngfix",required:".required",single:".single",tryForFree:".tryforfree",upsellBanner:".upsellbanner",upsellMsg:".upsellmsg",validationError:".validationerror",validationErrorPlain:".validationerrorplain",validationValid:".validationvalid",textField:".textField",emailField:".emailField",dateField:".dateField",numberField:".numberField",currencyField:".currencyField",percentField:".percentField",saveFormContainerWrap:".saveformcontainerwrap",singleSelectRadioField:".singleSelectRadioField",singleSelectDropdownField:".singleSelectDropdownField",multipleSelectField:".multipleSelectField",checkBoxField:".checkBoxField",likertField:".likertField",saveDataDlg:".saveDataDlg",maxDate:"maxDate",maxSelected:"maxSelected",minDate:"minDate",minCharLength:"minCharLength",maxCharLength:"maxCharLength",rangeCharLength:"rangeCharLength",minSelected:"minSelected",exactDate:"exactDate",exactSelected:"exactSelected",exactCharLength:"exactCharLength",rangeDate:"rangeDate",rangeSelected:"rangeSelected",hashKey:"hashkey",ctQNodeType:"tr",otherID:"_other",otherChoice:"otherChoice",embedFAQURL:"http://forums.adobe.com/docs/DOC-1991",completePageHash:"complete",trashCanIcon:{up:"trash_s.png",down:"trash_s_down.png",over:"trash_s_over.png"},defaultAttachmentIcon:"ic20Generic.png",attachmentIcon:{aiff:"sendnow_generic_audio_16.png",aif:"sendnow_generic_audio_16.png",ai:"ic20AdobeAI.png",cp:"ic20AdobeCP.png",cptx:"ic20AdobeCP.png",fla:"ic20AdobeFL.png",flv:"ic20AdobeFL.png",idml:"ic20AdobeID.png",indd:"ic20AdobeID.png",pdf:"ic20AdobePDF.png",psd:"ic20AdobePS.png",swf:"ic20AdobeSWF.png",avi:"sendnow_generic_video_16.png",bmp:"ic20BMP.png",doc:"ic20DOC.png",docx:"ic20DOCX.png",eps:"ic20EPS.png",gif:"ic20GIF.png",jpg:"ic20JPG.png",jpeg:"ic20JPG.png",mpeg:"sendnow_generic_video_16.png",mp3:"sendnow_generic_audio_16.png",mp4:"sendnow_generic_video_16.png",png:"ic20PNG.png",ps:"ic20Postscript.png",ppt:"ic20PPT.png",pptx:"ic20PPTX.png",tif:"ic20TIFF.png",tiff:"ic20TIFF.png",txt:"ic20TXT.png",wav:"sendnow_generic_audio_16.png",wmv:"sendnow_generic_video_16.png",xls:"ic20XLS.png",xlsx:"ic20XLSX.png",zip:"ic20ZIP.png"},blackList:"dfont,otf,ttf,pcd,7z,cab,crt,hta,jar,js,jse,mdb,rar,sit,tgz,war,bash,bat,chm,cmd,com,cpl,csh,dat,dll,exe,hlp,inf,ins,isp,ksh,lnk,ms,pif,reg,scr,sct,sh,shs,tcsh,vb,ws,zsh",dateOrdering:{monthFirst:1,dayFirst:2,yearFirst:3}},paymentStatus:{completed:"completed",failed:"failed",inProgress:"inProgress",redirect:"redirect"},serverErrors:{serverError:"serverError",AccessControlViolation:"serverAccessViolation",BadRequest:"serverBadRequest",Unknown:"serverUnknownError",serverUnrecognizedError:"serverUnrecognizedError",serverUnrecognizedResponse:"serverUnrecognizedResponse",formBadDataModelVersion:"formBadDataModelVersion",formInvalidPaymentSetup:"formInvalidPaymentSetup",formMissingDataModelVersion:"formMissingDataModelVersion",formUnableProcessPayments:"formUnableProcessPayments",formPaymentSetupChanged:"formPaymentSetupChanged",formPaymentVendorCallFailed:"formUnableProcessPayments",formPaymentsDisabled:"formPaymentsDisabled",fieldUnknown:"fieldUnknown",fieldDuplicated:"fieldDuplicated",fieldOtherNotAllowed:"fieldOtherNotAllowed",fieldIsSingleChoice:"fieldIsSingleChoice",fieldExpectsBoolean:"fieldExpectsBoolean",fieldAttachmentInvalid:"serverBadRequest",fieldAttachmentCountExceeded:"serverBadRequest",fieldAttachmentTotalSizeExceeded:"serverBadRequest",formChanged:"formChanged",formEmbedError:"formEmbedError",formEmbedServerError:"formEmbedServerError",formEmbedSourceError:"formEmbedSourceError",formFull:"formFull",ContentLength:"serverBadRequest",ContentNotMultiPart:"serverBadRequest",FileDataNotFound:"serverBadRequest",FileDataParsing:"serverBadRequest",FNotFound:"serverBadRequest",UnrecognizedResponse:"serverUnrecognizedResponse"},localStorage:(typeof (Storage)!="undefined"&&localStorage)||{},log:function(k,j){j=j||{saveStatus:true};j.saveStatus&&F.adobeForm.prototype.saveStatus({message:k});window.console&&window.console.log(k)},prototype:{initAdobeForm:function(j){var l={assetPath:"",attachments:{},attachmentUploadSize:100*1024,confirmationMessage:"",dataModelVersion:"",formModelVerSignature:"",dataLinkSendToFieldKey:"",dataStorageLength:7,disablePayments:false,displayRules:{},embed:false,embedSubmit:false,fieldContentWidth:475,formId:"",ids:{},isMobile:false,isDevelopment:false,isPaymentStatus:false,hasProgressBar:false,localHostRibbonPath:"",narrowFooterMargin:10,navigationRules:{hasRules:false},paymentLogoFile:"",paymentAction:"",paymentPath:"",paymentProvider:"",paymentProviderName:"",paymentRow:"",paymentToken:"",paymentVerSignature:"",paymentPollDelay:5,paymentTesting:false,paymentRecoveryUrl:"",preview:false,previewRibbonPath:"",redirectUrl:"",redirectDelay:0,redirectParent:false,redirectHeight:0,redirectDefaultHeight:400,redirectWidth:0,reqId:"",saveFormEnabled:false,serverErrorPath:"",serverPath:"",showHeader:"",skipUpsellAllowed:false,submitButtonLabel:"",transparent:false,uploadPath:""};if(typeof (j)!="object"){j={}}for(var k in l){this[k]=j.hasOwnProperty(k)?j[k]:l[k]}this.formValidator=null;this.validator=null;this.hash={};this.visitedPages={page1:true};this.pageHistory=[];this.pageHistoryIndex=-1;this.sourceDisplayRules={};this.navButtonClicked=false;this.maxVisitedPageNum=1;this.allTextareas={};F.adobeForm.options.localeSettings=j.localeSettings;F.adobeForm.messages=j.messages;this.properties=this.parseProperties(document.location.search);this.startTrace("initAdobeForm");this.initBrowserInfo();this.unescapeMessages(F.adobeForm.messages);this.confirmMsg=F(F.adobeForm.options.confirmMsg);this.formPage=F(F.adobeForm.options.formPage);this.formComplete=F(F.adobeForm.options.formComplete);this.form=F(F.adobeForm.options.form);this.footer=F(F.adobeForm.options.footer);this.header=F(F.adobeForm.options.header);this.infoHeader=F(F.adobeForm.options.infoHeader);this.infoHeaderText=F(F.adobeForm.options.infoHeaderText);this.prevButton=F(F.adobeForm.options.prevButton);this.nextButton=F(F.adobeForm.options.nextButton);this.paymentLogoDiv=F(F.adobeForm.options.paymentLogoDiv);this.progressBar=F(F.adobeForm.options.progressBar);this.progressBarValue=F(F.adobeForm.options.progressBarValue);this.progressBarText=F(F.adobeForm.options.progressBarText);this.pageCountSpan=F(F.adobeForm.options.pageCountSpan);this.pleaseWait=F(F.adobeForm.options.pleaseWait);this.saveFormDialog=F(F.adobeForm.options.saveFormDialog);this.saveFormProgress=F(F.adobeForm.options.saveFormProgress);this.upsellBanner=F(F.adobeForm.options.upsellBanner);this.upsellMsg=F(F.adobeForm.options.upsellMsg);this.dataId=this.getDataIdFromHash();this.execute(this.initTasks());this.endTrace("initAdobeForm")},initTasks:function(){return this.isPaymentStatus?[this.initPreviewRibbon,this.initHistory,this.initPleaseWaitDialog,this.initPaymentAction]:[this.initEmbeddedFormMessageHandler,this.initEmbeddedForm,function j(k){if(this.formPage.length>1){k.autoNextTask=false;var n=[this.initMisc,this.initFormData,this.initPageCache,this.initValidation,this.initButtonActions,this.initOtherText,this.initDateFields,this.initNumberFields,this.initCurrencyFields,this.initPercentFields,this.initEmailFields,this.initHelpButtons,this.initPreviewRibbon,this.initPleaseWaitDialog,this.initDisplayRules,this.initNavigationRules,this.initHistory,this.initCamera,this.initAttachmentUpload,this.initFooter,this.initTextAreaResizeFix,this.initFirstPage,this.preloadImages,this.initIEButtonPosition,this.initHiddenForm,function m(o){o.autoNextTask=false;o.nextTask()},this.warnPaymentDisabled,this.restoreFormData,function l(o){o.nextTask();k.autoNextTask=true;k.nextTask()}];this.execute(n)}}]},initMisc:function I(){var s=window.location.hostname;if(!/adobeformscentral\.com$/.test(s)&&!this.isDevelopment){this.reportServerError(F.adobeForm.serverErrors.formEmbedError)}if(F.browser.msie&&F.valHooks&&F.valHooks.button&&F.valHooks.button.set){F.valHooks.button.set=function(v,w,u){var t=v.getAttributeNode(u);if(!t){t=document.createAttribute(u);v.setAttributeNode(t)}v.setAttribute(u,w+"");return(t.value)}}for(var l in F.adobeForm.localStorage){var k=/"?saveDate"?\s*:\s*(\d+)/.exec(F.adobeForm.localStorage[l]);var o=k?(new Date()-new Date(parseInt(k[1],10)))/1000/60/60/24:999;if(o>14||(o>3&&/^form\./.exec(l))){delete F.adobeForm.localStorage[l]}else{if(l=="status"){var j=this.statusHistory();j.statusList=j.statusList||[];var p=j.statusList.length;j.statusList=F.makeArray(F(j.statusList).filter(function(){return(this.date?(new Date()-new Date(parseInt(this.date,10)))/1000/60/60/24:999)<14}));if(p!=j.statusList.length){this.saveStatusHistory(j)}}}}if(typeof (Storage)!="undefined"&&localStorage&&this.properties.enableReportProblem!==undefined){var m=F("#legal > P");m.append("&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;"+F.adobeForm.messages.reportProblemHtml);var r=F("#smalllegalpoweredbyfooter > P");r.append("&nbsp;|&nbsp;"+F.adobeForm.messages.reportProblemHtml);this.reportProblem=function(){var t=this.statusHistory();t=t||{statusList:[]};var AA=F.adobeForm.messages.reportProblemHistory;var z=t.statusList||[];if(z.length){for(var w=z.length-1;w>=0;--w){var v=z[w].date?new Date(z[w].date).toLocaleString():"No Date";var y=z[w].reqId?z[w].reqId:"No Request ID";var u=z[w].status?z[w].status:"No Status";u=u.replace(/<span.*?>/g,"").replace(/<\/span.*?>/g,"");if(u.length>100){u=u.substring(0,100)+"..."}AA+="\n"+v+": "+y+": "+u}}else{AA+=" empty"}var x="mailto:%to%?subject=%subject%&body=%body%".replace(/%to%/,/[^ ]+@[^ ]+\.com/i.exec(F.adobeForm.messages.pleaseContact)[0]).replace(/%subject%/,encodeURIComponent(F.adobeForm.messages.reportProblemTitle)).replace(/%body%/,encodeURIComponent(AA));while(x.length>(this.atMostIEVersion(8)?450:1500)){x=x.substr(0,x.lastIndexOf("%0A"))}location.href=x}.bind(this)}var n=F("#legal").offset();var q=F("#poweredby").offset();if(n&&q&&n.top!=q.top){F("#legalpoweredbyfooter").hide();F("#smalllegalpoweredbyfooter").show()}if(F.browser.mobile){F("body").css({"-mos-text-size-adjust":"none","-webkit-text-size-adjust":"none","-ms-text-size-adjust":"none"})}if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}},saveStatus:function(k){var j=this.statusHistory();var l=new Date();j.saveDate=l.getTime();j.statusList=j.statusList||[];if(j.statusList.length>50){j.statusList.shift()}j.statusList.push({date:l.getTime(),reqId:this.reqId,status:k.code?k.code:k.message});this.saveStatusHistory(j);this.trace("status: "+(k.code?k.code:k.message))},statusHistory:function(){return(F.adobeForm.localStorage.status&&F.parseJSON(F.adobeForm.localStorage.status))||{statusList:[]}},saveStatusHistory:function(k){try{this.clearStatusHistory();if(k&&k.statusList&&k.statusList.length){F.adobeForm.localStorage.status=JSON.stringify(k)}}catch(j){window.console&&window.console.log("Error writing status history to localStorage")}},clearStatusHistory:function(){if(F.adobeForm.localStorage.status){delete F.adobeForm.localStorage.status}},initFormData:function W(){var l={my:"center center",at:"center center",of:F.browser.ios||F.browser.android||this.embed?this.form:window};this.saveFormDialog.dialog({dialogClass:F.adobeForm.options.saveDataDlg.substr(1),autoOpen:false,modal:true,resizable:false,draggable:false,width:300,position:l});if(this.saveFormEnabled){this.dataLinkEmail="";this.showingSliderTooltip=false;this.sendToFieldValueChanged=false;this.saveFormContainer=F(F.adobeForm.options.saveFormContainer);if(!F.browser.ios){var n=(this.dataStorageLength==1)?F.adobeForm.messages.saveFormTooltipSingular:F.adobeForm.messages.saveFormTooltip.replace(/%1/,""+this.dataStorageLength);this.saveFormContainer.attr("title",n);this.saveFormContainer.tooltip({tipClass:"saveformtip",effect:"fade",fadeOutSpeed:100,position:"top left",offset:[0,40],events:{def:"mouseenter, mouseleave",tooltip:""},delay:100})}var k='<div id="slidertrigger" style="position:relative;left:%formwidth%px;width:0px;height:0px;"></div><div class="slidertooltip"><img src="%assetpath%images/check_mark_mid.png"><span id="slidermsg"></span></div>';k=k.replace("%assetpath%",this.assetPath);var o=F(F.adobeForm.options.footer);k=k.replace("%formwidth%",""+o.outerWidth());F(k).insertBefore(o);var m=F(F.adobeForm.options.sliderTrigger);m.tooltip({effect:"fade",fadeOutSpeed:300,events:{tooltip:"mouseenter"},position:"top left",relative:true,offset:[2,0],delay:100,onBeforeShow:function(){return this.showingSliderTooltip}.bind(this)});this.sliderTooltip=m.data("tooltip");var j=this.dataLinkSendToFieldKey?F("#"+this.dataLinkSendToFieldKey+"c"):F();if(j.length){this.sendToField=j;j.change(function(){this.sendToFieldValueChanged=true}.bind(this))}}},initValidation:function c(){F.validator.autoCreateRanges=true;F.validator.methods.originalRequired=F.validator.methods.required;F.adobeForm.messages.fieldExpectsPercent=F.adobeForm.messages.fieldExpectsPercent.replace("{0}",this.formatPercent(31.42));F.adobeForm.messages.fieldExpectsNumber=F.adobeForm.messages.fieldExpectsNumber.replace("{0}",this.formatNumber(1234.56));F.adobeForm.messages.fieldExpectsCurrency=F.adobeForm.messages.fieldExpectsCurrency.replace("{0}",this.formatCurrency(1234.56,true,true));F.adobeForm.messages.fieldExpectsDate=F.adobeForm.messages.fieldExpectsDate.replace("{0}",this.formatDate(new Date(1961,8,17)));F.adobeForm.messages.fieldExpectsPositivePrice=F.adobeForm.messages.fieldExpectsPositivePrice.replace("{0}",this.formatCurrency(1234.56,true,true));F.validator.addMethod(F.adobeForm.options.required.substr(1),this.validateRequired.bind(this),this.requiredErrorMessage.bind(this));F.validator.addMethod(F.adobeForm.options.numberLimit.substr(1),this.validateNumberLimit.bind(this),F.adobeForm.messages.fieldNumberTooLarge);F.validator.addMethod(F.adobeForm.options.number.substr(1),this.validateNumber.bind(this),F.adobeForm.messages.fieldExpectsNumber);F.validator.addMethod(F.adobeForm.options.paymentQuantity.substr(1),this.validatePositiveInt.bind(this),F.adobeForm.messages.fieldExpectsPositiveQuantity);F.validator.addMethod(F.adobeForm.options.priceNumber.substr(1),this.validatePositivePriceNumber.bind(this),F.adobeForm.messages.fieldExpectsPositivePrice);F.validator.addMethod(F.adobeForm.options.priceCurrency.substr(1),this.validatePositiveCurrency.bind(this),F.adobeForm.messages.fieldExpectsPositivePrice);F.validator.addMethod(F.adobeForm.options.currency.substr(1),this.validateCurrency.bind(this),F.adobeForm.messages.fieldExpectsCurrency);F.validator.addMethod(F.adobeForm.options.date.substr(1),this.validateDate.bind(this),F.adobeForm.messages.fieldExpectsDate);F.validator.addMethod(F.adobeForm.options.percent.substr(1),this.validatePercent.bind(this),F.adobeForm.messages.fieldExpectsPercent);F.validator.addMethod(F.adobeForm.options.email.substr(1),this.validateEmail.bind(this),F.adobeForm.messages.fieldExpectsEmail);F.validator.addMethod(F.adobeForm.options.attachmentButton.substr(1),this.validateAttachmentTotals.bind(this),this.attachmentErrorMessage.bind(this));F.validator.addMethod(F.adobeForm.options.attachmentFile.substr(1),this.validateAttachment.bind(this),this.attachmentErrorMessage.bind(this));F.validator.addMethod(F.adobeForm.options.exactCharLength,this.validateExactLength.bind(this),F.adobeForm.messages.fieldExactLength);F.validator.addMethod(F.adobeForm.options.maxDate,this.validateMaxDate.bind(this),F.adobeForm.messages.fieldDateLate);F.validator.addMethod(F.adobeForm.options.minDate,this.validateMinDate.bind(this),F.adobeForm.messages.fieldDateEarly);F.validator.addMethod(F.adobeForm.options.minCharLength,this.validateMinLength.bind(this),F.adobeForm.messages.fieldMinLength);F.validator.addMethod(F.adobeForm.options.maxCharLength,this.validateMaxLength.bind(this),F.adobeForm.messages.fieldMaxLength);F.validator.addMethod(F.adobeForm.options.rangeCharLength,this.validateRangeLength.bind(this),this.formatRangeErrorMessage(F.adobeForm.messages.fieldRangeLength));F.validator.addMethod(F.adobeForm.options.exactDate,this.validateExactDate.bind(this),F.adobeForm.messages.fieldDateExact);F.validator.addMethod(F.adobeForm.options.rangeDate,this.validateRangeDate.bind(this),this.formatRangeErrorMessage(F.adobeForm.messages.formatRangeDate));F.validator.addMethod(F.adobeForm.options.minSelected,this.validateMinSelectedChoices.bind(this),F.adobeForm.messages.fieldSelectedChoicesMin);F.validator.addMethod(F.adobeForm.options.maxSelected,this.validateMaxSelectedChoices.bind(this),F.adobeForm.messages.fieldSelectedChoicesMax);F.validator.addMethod(F.adobeForm.options.exactSelected,this.validateExactSelectedChoices.bind(this),F.adobeForm.messages.fieldSelectedChoicesExact);F.validator.addMethod(F.adobeForm.options.rangeSelected,this.validateRangeSelectedChoices.bind(this),this.formatRangeErrorMessage(F.adobeForm.messages.fieldSelectedChoicesRange));this.formValidator=this.validator=this.form.validate({onsubmit:false,focusInvalid:false,ignoreTitle:true,errorElement:"div",errorClass:F.adobeForm.options.validationError.substr(1),validClass:F.adobeForm.options.validationValid.substr(1),errorPlacement:function(l,k){var j=this.errorMessageContainer(k);j.empty();var m=F("<div></div>");m.addClass(F.adobeForm.options.fieldErrorArrow.substr(1));j.append(m);m.html('<div class="h0"><span></span></div><div class="h1"><span></span></div><div class="h2"><span></span></div><div class="h3"><span></span></div><div class="h4"><span></span></div><div class="h5"><span></span></div><div class="h6"><span></span></div><div class="h7"><span></span></div><div class="h8"><span></span></div>');if(!this.atMostIEVersion(8)){l.corner("3px")}j.append(l);j.append('<div class="null"></div>')}.bind(this),highlight:function(m,o,p){var m=F(m);var r=this.errorMessageContainer(m);var k=this.fieldNode(r);k.find("."+p).removeClass(p);var q=this.likertQuestion(m);if(q.length){q.addClass(F.adobeForm.options.fieldErrorBorder.substr(1))}else{var n=this.attachmentNode(m);if(n.length){this.attachmentUI(n).addClass(F.adobeForm.options.fieldErrorBorder.substr(1))}else{var l=k.find(F.adobeForm.options.attachments);if(l.length){r.prev().addClass(F.adobeForm.options.fieldErrorBorder.substr(1))}else{m.addClass(o)}}}k.addClass(F.adobeForm.options.fieldError.substr(1));this.parentNode(k,F.adobeForm.options.formRow).addClass("e"+(k.index()+1));if(this.atMostIE6()&&this.parentNode(m,F.adobeForm.options.choiceGroup).length){var j=k.next(F.adobeForm.options.field);if(!j.length){j=k}j.addClass((j.is(F.adobeForm.options.ie6MarginHack)?F.adobeForm.options.ie6MarginHack2:F.adobeForm.options.ie6MarginHack).substr(1))}this.notifyFormResize()}.bind(this),unhighlight:function(o,q,t){o=F(o);var w=this.errorMessageContainer(o);var l=this.fieldNode(w);if(l.is(F.adobeForm.options.fieldError)){var v=undefined;var u=true;if(this.parentNode(o,F.adobeForm.options.choiceGroup).length||this.parentNode(o,F.adobeForm.options.dropdown).length){v=F(this.errorsOnPage(this.visiblePage()));var k=this.otherWidgetName(o.attr("name"));var n=o.attr("id");var m=v.filter(function(x,y){return n!=y.element.id&&k==this.otherWidgetName(y.element.name)}.bind(this));u=!m.length}if(u){var s=true;if(this.parentNode(o,F.adobeForm.options.cttable).length||this.parentNode(o,F.adobeForm.options.attachments).length){v=v||F(this.errorsOnPage(this.visiblePage()));var n=o.attr("id");var p=l.attr("id");var r=v.filter(function(x,y){return n!=y.element.id&&p==this.fieldNode(y.element).attr("id")}.bind(this));s=!r.length}if(s){l.removeClass(F.adobeForm.options.fieldError.substr(1));this.parentNode(l,F.adobeForm.options.formRow).removeClass("e"+(l.index()+1))}w.empty();if(o.is(F.adobeForm.options.attachmentButton)&&!this.attachmentNode(o).length){o.removeClass(q);o.addClass(t);this.attachmentListNode(l).removeClass(F.adobeForm.options.fieldErrorBorder.substr(1))}else{this.errorContext(o).find(".%errorClass%:first".replace(/%errorClass%/,q)).removeClass(q);o.addClass(t);this.likertQuestion(o).removeClass(F.adobeForm.options.fieldErrorBorder.substr(1));this.attachmentUI(this.attachmentNode(o)).removeClass(F.adobeForm.options.fieldErrorBorder.substr(1));if(this.atMostIE6()&&this.parentNode(o,F.adobeForm.options.choiceGroup).length){var j=l.next(F.adobeForm.options.field);if(!j.length){j=l}j.removeClass((j.is(F.adobeForm.options.ie6MarginHack2)?F.adobeForm.options.ie6MarginHack2:F.adobeForm.options.ie6MarginHack).substr(1))}}}this.notifyFormResize()}}.bind(this),onkeyup:function(j){this.invalid[j.name]&&this.element(j)},onfocusout:function(j,k){j.errorBeforeFocusOut=this.invalid[j.name];F.validator.defaults.onfocusout.call(this,j,k)}});if(F.browser.chrome){F("select"+F.adobeForm.options.fieldContent).change(function(j){this.click()})}if(F.browser.android){F("select"+F.adobeForm.options.fieldContent).change(function(k){var j=F(k.target);this.validator.invalid[j.attr("name")]&&this.validator.element(j)}.bind(this))}this.formValidator.elements=function(){this.startTrace("validator elements");var j={};var k=this.visiblePage().find(":input").not(this.formValidator.settings.ignore).filter(function(l,m){if(!m.name&&this.formValidator.settings.debug&&window.console){window.console.error("%o has no name assigned",m)}if(m.name in j||!this.formValidator.objectLength(F(m).rules())||this.fieldIsHidden(m)){return false}j[m.name]=true;return true}.bind(this));this.endTrace("validator elements");return k}.bind(this);this.validator.element=this.element.bind(this);this.validator.formatAndAdd=this.formatAndAdd},initButtonActions:function O(){this.prevButton.click(this.clickPrev.bind(this));this.nextButton.removeAttr("disabled");this.nextButton.click(this.clickNext.bind(this));this.form.submit(function(){return false})},otherChoiceChecked:function(k,j){j.css({opacity:1});j.addClass(F.adobeForm.options.required.substr(1));k.attr("checked",true);this.updateUI();this.displayRuleUpdateUI(k.attr("name"));if(!j.is(".error")&&k.attr("name") in this.validator.submitted){this.validator.element(k)}},initOtherText:function J(){var k=F(F.adobeForm.options.choiceOtherText);k.css({opacity:0.5});function j(m){var n=F(m.target);var l=this.textToOther(n);if(l.checked){return }this.otherChoiceChecked(l,n)}k.click(j.bind(this));k.keypress(function(l){if(l.which==0){return }j.call(this,l)}.bind(this));F(F.adobeForm.options.choiceOtherButton+"[type=checkbox], "+F.adobeForm.options.choiceHasOtherButton).change(function(l){var o=F(l.target);var n=this.fieldNode(o).find(F.adobeForm.options.choiceOtherButton);var m=F("#%id%%other%".replace(/%id%/,n.attr("id")).replace(/%other%/,F.adobeForm.options.otherID));if(n.is(":checked")){m.css({opacity:1});m.addClass(F.adobeForm.options.required.substr(1));if(this.validator.submitted.length){this.validator.submitted[m.attr("name")]=this.validator.messages.required}m.focus()}else{m.css({opacity:0.5});m.removeClass(F.adobeForm.options.required.substr(1));this.validator.element(m)}}.bind(this));F(F.adobeForm.options.ddOther+" select").change(function(m){var n=F(m.target);var l=F("#%id%%other%".replace(/%id%/,n.attr("id")).replace(/%other%/,F.adobeForm.options.otherID));if(this.isDropDownOtherSelected(n)){l.addClass(F.adobeForm.options.required.substr(1));if(this.validator.submitted.length){this.validator.submitted[l.attr("name")]=this.validator.messages.required}l.show();l.focus()}else{l.removeClass(F.adobeForm.options.required.substr(1));this.validator.element(l);l.hide()}this.notifyFormResize()}.bind(this))},initDateFields:function L(){var k;var p;var l;var o;var j;var m=F.adobeForm.options.localeSettings.dateFormatSettings.separator;if(m.length==1){p="";l="";o="";j=m}else{p=m.charAt(0);l=m.charAt(1);o=m.charAt(2);j=""}var n="yy"+p;var r="mm"+l;var q="dd"+o;switch(F.adobeForm.options.localeSettings.dateFormatSettings.ordering){case F.adobeForm.options.dateOrdering.yearFirst:k=[n,r,q].join(j);break;case F.adobeForm.options.dateOrdering.dayFirst:k=[q,r,n].join(j);break;case F.adobeForm.options.dateOrdering.monthFirst:default:k=[r,q,n].join(j)}this.datepickerOpened={};F(F.adobeForm.options.datePicker).datepicker({showOn:"both",buttonImageOnly:true,buttonImage:this.assetPath+"images/calendar.png",buttonText:F.adobeForm.messages.dateHelp,changeMonth:true,changeYear:true,gotoCurrent:true,yearRange:"-90:+10",showOptions:{direction:"up"},dateFormat:k,firstDay:F.adobeForm.options.localeSettings.dateFormatSettings.firstDayOfTheWeek,onClose:function(t,s){this.datepickerOpened[s.id]=false;if(t&&t.length){this.validator.element(s.input)}}.bind(this),beforeShow:function(s,t){this.datepickerOpened[t.id]=true}.bind(this)});F(F.adobeForm.options.form).delegate("input,select,textarea","focusin",function(t){if(this.currentFocusField===undefined){this.currentFocusField=t.target}else{var s=F(this.currentFocusField);if(s[0]!=t.target){if(s.hasClass("datepicker")&&this.datepickerOpened[s.attr("id")]){s.datepicker("hide")}this.currentFocusField=t.target}}}.bind(this));F(F.adobeForm.options.datePicker).blur(function(t){var w=F(t.target);var v=w.attr("value");if(this.validateDate(v,w[0])&&v&&v.length!=0){var s=this.parseDate(v);var u=this.formatDate(s);if(u!=v){w.attr("value",u)}}}.bind(this));if(F.browser.msie&&F.browser.version>=10&&!F.browser.mobile&&F.browser.osVersion>=6.2){F.datepicker.originalUpdateDatepicker=F.datepicker._updateDatepicker;F.datepicker._updateDatepicker=function(s){if(!F.datepicker._datepickerShowing){F.datepicker.originalUpdateDatepicker(s)}else{setTimeout(function(){s.dpDiv.empty();setTimeout(function(){F.datepicker.originalUpdateDatepicker(s)},1)},75)}}}},initNumberFields:function S(){F(F.adobeForm.options.number).blur(function(j){var l=F(j.target);var k=this.getValidatedNumberValue(l,this.parseNumber);if(k!=null){k=this.formatNumber(k);if(l.attr("value")!=k){l.attr("value",k)}}}.bind(this));F(F.adobeForm.options.priceNumber).blur(function(j){var l=F(j.target);var k=this.getValidatedNumberValue(l,this.parsePositivePriceNumber);if(k!=null){k=this.formatCurrency(k,false,false);if(l.attr("value")!=k){l.attr("value",k)}}}.bind(this));F(F.adobeForm.options.paymentQuantity).blur(function(j){var l=F(j.target);var k=this.getValidatedNumberValue(l,this.parsePositiveInt);if(k!=null){k=this.formatNumber(k);if(l.attr("value")!=k){l.attr("value",k)}}}.bind(this))},initCurrencyFields:function a(){F(F.adobeForm.options.currency).blur(function(j){var l=F(j.target);var k=this.getValidatedNumberValue(l,this.parseCurrency);if(k!=null){k=this.formatCurrency(k,true,true);if(l.attr("value")!=k){l.attr("value",k)}}}.bind(this));F(F.adobeForm.options.priceCurrency).blur(function(j){var l=F(j.target);var k=this.getValidatedNumberValue(l,this.parsePositiveCurrency);if(k!=null){k=this.formatCurrency(k,true,true);if(l.attr("value")!=k){l.attr("value",k)}}}.bind(this))},initPercentFields:function Z(){F(F.adobeForm.options.percent).blur(function(j){var l=F(j.target);var k=this.getValidatedNumberValue(l,this.parsePercent);if(k!=null){k=this.formatPercent(k);if(l.attr("value")!=k){l.attr("value",k)}}}.bind(this))},getValidatedNumberValue:function(k,n){var m=k.attr("value");var j=n.call(this,m);var l=this.fieldNode(k[0]).is(F.adobeForm.options.hideField)||this.validator.optional(k[0]);if(!l){l=j!=null&&isFinite(j)&&Math.abs(j)<1000000000000000}return l?j:null},initEmailFields:function H(){F(F.adobeForm.options.email).blur(function(j){var m=F(j.target);var l=m.attr("value");if(l&&l.length&&this.validateEmail(l,m[0])){var k=l.replace(/\s/g,"");if(l!=k){m.attr("value",k)}}}.bind(this))},initHelpButtons:function U(){F(F.adobeForm.options.helpButton+"[title]").tooltip({tipClass:"helpnotice",effect:"fade",fadeOutSpeed:100,position:this.embed?"bottom left":"bottom right",onShow:function(k){var l=k.currentTarget.getTip();if(l.position().left<0){l.css({left:"5px",width:""+(this.form.width()-20)+"px"})}var j=this.form.css("padding-top");j=j?parseInt(/\d+/.exec(j),10):0;if(l.position().top+l.height()>this.form.height()+j){if(l.height()>this.form.height()+j-15){l.css({top:"5px"})}else{l.css({top:""+(this.form.height()-l.height()+j-10)+"px"})}}}.bind(this),events:{def:"mouseenter, mouseleave"},delay:100})},initPreviewRibbon:function i(){this.showPreviewRibbon()},showPreviewRibbon:function(k){if((k&&this.localHostRibbonPath)||(this.preview&&this.previewRibbonPath)){var l=F(F.adobeForm.options.previewRibbon).html(('<img class="pngfix" usemap="#previewribbonmap" border="0" src="%image%" alt="%altText%"><map id="previewribbonmap" name="previewribbonmap"><area id="previewribbonarea" name="previewribbonarea" shape="poly" coords="0,65, 65,0, 125,0, 0,125"%href%/></map>').replace("%image%",this.assetPath+(k?this.localHostRibbonPath:this.previewRibbonPath)).replace("%altText%",k?F.adobeForm.messages.localHostRibbonAltText:F.adobeForm.messages.previewRibbonAltText).replace("%href%",k?' href="'+F.adobeForm.options.embedFAQURL+'" target="_blank"':""));this.pngFix(l.find(F.adobeForm.options.pngFix));var j=F(F.adobeForm.options.previewRibbonArea);j.attr("title",k?F.adobeForm.messages.localHostAlert:F.adobeForm.messages.previewAlert);j.tooltip({tipClass:"previewtip",effect:"fade",fadeOutSpeed:100,position:"top right",events:{def:"mouseenter, mouseleave",tooltip:""},delay:100,onBeforeShow:function(){this.getConf().offset=[this.getTip().outerHeight(),130-this.getTrigger().outerWidth()]}})}},initPleaseWaitDialog:function G(){function j(n){var m=0;if(this.embed){if(!window.postMessage){m=this.form.height()-n.w.height()-150}else{var o=Math.max(0,this.windowScrollTop-this.iframeTop);var k=Math.min(this.form.height()-o,this.windowClientHeight);var l=n.w.height()+60;m=k>l?o+(k-l)/2:o}n.w.css("top",m)}n.w.show();this.notifyFormResize()}this.pleaseWait.jqm({modal:true,overlay:this.embed?0:85,trigger:false,onShow:j.bind(this)});this.saveFormProgress.jqm({modal:true,overlay:65,trigger:false,onShow:j.bind(this)});F(window).unload(function(){this.pleaseWait.jqmHide()}.bind(this))},initEmbeddedForm:function b(){if(this.embed){this.windowScrollTop=0;this.windowClientHeight=this.form.height();this.iframeTop=0;this.lastResizeHeight=0;this.messageQueue=[];this.messageIntervalId=null;this.legacyEmbedScript=this.embed=="NOVALUE";this.parentUrl=decodeURIComponent(this.legacyEmbedScript?document.location.hash.substr(1):this.embed);this.targetUrl=this.parentUrl.replace(/#.*/,"");this.lastResizeHeight=this.form.height();this.lastVisiblePage=this.visiblePage().attr("id");this.notifyFormEvent("init",{transparent:this.transparent,width:this.form.width(),height:this.lastResizeHeight});this.embed=true}},initEmbeddedFormMessageHandler:function T(){function k(n){var o=decodeURIComponent(n).split(";");var m={};for(var l=0;l<o.length;l++){param=o[l];paramPair=param.split("=");if(paramPair.length==2){m[paramPair[0]]=paramPair[1]}}return m}function j(m){this.messageReceived=true;if(this.localHostVisible){this.localHostVisible=false;F(F.adobeForm.options.previewRibbon).hide()}var l=k(m.data);if(l.action=="windowScroll"){if(typeof (l.windowScrollTop)=="string"){this.windowScrollTop=parseInt(l.windowScrollTop,10)}if(typeof (l.windowClientHeight)=="string"){this.windowClientHeight=parseInt(l.windowClientHeight,10)}if(typeof (l.iframeTop)=="string"){this.iframeTop=parseInt(l.iframeTop,10)}}}if(this.embed&&window.postMessage){if(window.addEventListener){window.addEventListener("message",j.bind(this),false)}else{window.attachEvent("onmessage",j.bind(this))}if(!this.isPaymentStatus&&!this.preview&&!this.legacyEmbedScript){this.callLater(function(){if(!this.messageReceived){this.showPreviewRibbon("localHost");this.localHostVisible=true}},5000)}}},initDisplayRules:function A(){for(var j in this.displayRules){if(this.displayRules.hasOwnProperty(j)&&typeof (this.displayRules[j])=="object"){var l=this.displayRules[j];for(var j in l.conditions){var m=l.conditions[j];if(!this.sourceDisplayRules.hasOwnProperty(m.source)){this.sourceDisplayRules[m.source]=[l];if(!this.atMostIEVersion(7)){var k=F("[name=%name%]".replace(/%name%/,m.source));if(k.length){k.change(function(n){this.displayRuleUpdateUI(n)}.bind(this,m.source))}}}else{this.sourceDisplayRules[m.source].push(l)}}}}},initNavigationRules:function Q(){var m={};for(var k in this.navigationRules){if(this.navigationRules.hasOwnProperty(k)&&typeof (this.navigationRules[k])=="object"){this.navigationRules.hasRules=true;var o=this.navigationRules[k];var j=o.defaultDestination=="null";if(!j){for(var k in o.branches){var l=o.branches[k];if(typeof (l)!="object"){break}j=l.destination=="null";if(j){break}}}if(j&&o.branches.length&&!m.hasOwnProperty(o.branches[0].source)){m[o.branches[0].source]=true;var n=F("[name=%name%]".replace(/%name%/,o.branches[0].source));if(n.length){n.change(this.updateUI.bind(this))}}}}if(this.navigationRules.hasRules){this.pageCountSpan.hide()}},initHistory:function X(){this.formPage.each(function(j,l){var l=F(l);var k=(j==0)?F.adobeForm.options.completePageHash:(j==1&&!this.embed)?"":""+j;l.attr(F.adobeForm.options.hashKey,k);this.hash[k]=l.attr("id")}.bind(this));F.history.init(this.browserHashChanged.bind(this))},initCamera:function D(){this.isHACKATHON2013Camera=this.properties.enableCamera!==undefined;if(this.isHACKATHON2013Camera){window.URL=window.URL||window.webkitURL;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;this.isHACKATHON2013Camera=!!(F.browser.chrome&&window.URL&&navigator.getUserMedia);this.takeAPicture=function(k){if(this.takingPicture){return }this.takingPicture=true;var m=this.fieldNode(k);F('<div style="float:right;"><video autoplay style="width:213px; height:160px;"></video><canvas width="640" height="480" style="display:none;"></canvas><br><span><span class="pspan" style="font-family:Arial, Helvetica, sans-serif;font-size:14px;">Click on the video to take a picture</span></span></div>').insertAfter(k.parent().parent());var l=m.find("video")[0];var j=null;l.addEventListener("click",function(){if(j){var q=this.attachments[m.attr("id")];var p=m.find("canvas")[0];var n=p.getContext("2d");n.drawImage(l,0,0);var t=p.toDataURL("image/jpeg",1);var o=r(t);l.pause();j.stop();F(l).parent().remove();var s=F('<div class="attachment"></div>');s.attr("__fileName","picture%id%.jpg".replace(/%id%/,++q.sequenceNumber));s.attr("__fileSize",""+o.size);s[0].blob=o;this.addAttachment(m,s,t)}this.takingPicture=false;function r(w){var y=(w.split(",")[0].indexOf("base64")!=-1)?atob(w.split(",")[1]):decodeURI(w.split(",")[1]);var v=w.split(",")[0].split(":")[1].split(";")[0];var u=new Array();for(var x=0;x<y.length;x++){u[x]=y.charCodeAt(x)}return new Blob([new Uint8Array(u)],{type:v})}}.bind(this),false);navigator.getUserMedia({video:true},function(n){l.src=window.URL.createObjectURL(n);j=n},function(n){F(l).parent().remove();this.takingPicture=false}.bind(this))}}},initAttachmentUpload:function M(){if(F.browser.ios&&F.browser.version<6){F(F.adobeForm.options.attachmentButton).each(function(j,k){F(k).attr("disabled",true)});return }if(F.browser.mozilla&&F.browser.version.slice(0,3)=="1.9"){F(F.adobeForm.options.attachmentButtonForwardClickImpl).each(function(j,k){k=F(k);k.addClass(F.adobeForm.options.attachmentButtonTransparentImpl).removeClass(F.adobeForm.options.attachmentButtonForwardClickImpl);if(k.is(F.adobeForm.options.attachmentButton)){k.attr("tabindex","-1")}})}F(F.adobeForm.options.attachmentField).each(function(l,o){var p=F(o);var k=this.attachments[p.attr("id")];if(k){k.implClass=this.attachmentImplementation(p);k.sequenceNumber=0;var n=this.attachmentButton(p);var j=this.attachmentButtonContainer(p);var m=j.find(F.adobeForm.options.attachmentFile);if(this.isHACKATHON2013Camera){if(/camera/.test(k.fileFormats)){this.changeAttachmentButtonLabel(n,"Add Photo");n.addClass(F.adobeForm.options.camera.substr(1));n.click(function(q){this.takeAPicture();return false}.bind(this));return }}this.attachmentInitFileInput(m,p);if(k.implClass==F.adobeForm.options.attachmentButtonForwardClickImpl){n.click(function(q){this.fieldNode(q.target).find(F.adobeForm.options.attachmentButtonContainer+" "+F.adobeForm.options.attachmentFile).click()}.bind(this))}}}.bind(this))},attachmentInitFileInput:function(l,m){var j=this.attachments[m.attr("id")];l.removeAttr("disabled");l.change(function(p){var n=F(p.target);if(n.val()){var q=this.fieldNode(n);var o=n.clone(true);o.insertAfter(n);this.addFileAttachment(q,n)}}.bind(this));if(j.implClass==F.adobeForm.options.attachmentButtonTransparentImpl){var k=this.attachmentButton(m);l.mouseover(function(n){k.addClass(F.adobeForm.options.attachmentButtonHover.substr(1))});l.mouseout(function(n){k.removeClass(F.adobeForm.options.attachmentButtonHover.substr(1))});l.focus(function(n){if(!l.attr("disabled")){k.addClass(F.adobeForm.options.attachmentButtonHighlight.substr(1))}});l.blur(function(n){k.removeClass(F.adobeForm.options.attachmentButtonHighlight.substr(1))})}},addFileAttachment:function(n,l){var o=F('<div class="attachment"></div>');o.append(l);l.attr("disabled",true);var k=this.attachments[n.attr("id")];l.attr("id","%id%a%n%".replace(/%id%/,n.attr("id")).replace(/%n%/,++k.sequenceNumber));o.attr("__fileName",l.attr("value"));var m=l[0].files;var j=undefined;if(m&&m.length==1){if(m[0].size!==undefined){j=m[0].size}else{if(m[0].fileSize!==undefined){j=m[0].fileSize}}}if(j!==undefined){o.attr("__fileSize",""+j)}this.addAttachment(n,o);return o},addAttachment:function(u,q,r){var k=this.attachmentListNode(u);if(this.attachments[u.attr("id")].maxFiles==1&&k.children().length){k.empty();this.updateAttachmentPersistentWarning()}k.append(q);var t='<div class="attachmentui"><img class="attachmenticon%sizeOverride% pngfix" src="%attachmentIcon%" alt="%attachmentName%"/><div class="attachmentname" style="max-width:%nameMaxWidth%px;">%attachmentName%</div><img class="attachmentdeleteicon pngfix" src="%assetPath%%trashCan%" alt="%trashCanAltText%"><div class="attachmentsize">%attachmentSize%</div><div class="null"></div></div><div class="fielderror"/>';var s=this.attachmentFileName(q);var j=this.attachmentFileExtension(q);var n=F.adobeForm.options.attachmentIcon.hasOwnProperty(j)?F.adobeForm.options.attachmentIcon[j]:F.adobeForm.options.defaultAttachmentIcon;var l=135;t=t.replace(/%trashCanAltText%/g,F.adobeForm.messages.attachmentTrashText).replace(/%attachmentName%/g,s).replace(/%attachmentIcon%/g,r?r:this.assetPath+"images/"+n).replace(/%attachmentSize%/g,this.attachmentFileSize(q)).replace(/%assetPath%/g,this.assetPath+"images/").replace(/%trashCan%/g,F.adobeForm.options.trashCanIcon.up).replace(/%sizeOverride%/g,n.match(/16/)?" smallicon":"").replace(/%nameMaxWidth%/g,""+(this.fieldContentWidth-l));q.append(t);this.pngFix(q.find(F.adobeForm.options.pngFix));var v=q.find(".attachmentdeleteicon");v.click(function(x){var w=this.attachmentButton(q);q.remove();this.attachmentButtonEnable(w);if(!k.children().length){this.changeAttachmentButtonLabel(w,F.adobeForm.messages.attachmentSelect);this.updateUI()}this.validateAllAttachments();this.updateAttachmentPersistentWarning();this.notifyFormResize()}.bind(this));v.bind("mouseover mouseout mousedown mouseup",function(w){F(w.target).src=this.assetPath+"images/"+(w.type=="mouseover"?F.adobeForm.options.trashCanIcon.over:w.type=="mousedown"?F.adobeForm.options.trashCanIcon.down:F.adobeForm.options.trashCanIcon.up)}.bind(this));var p=this.attachmentButton(u);this.changeAttachmentButtonLabel(p,F.adobeForm.messages.attachmentAdd);this.updateUI();var o=this.attachments[u.attr("id")];if(o){var m=k.children().length;if(m==1&&o.maxFiles==1){this.changeAttachmentButtonLabel(p,F.adobeForm.messages.attachmentSelect)}else{if(m>=o.maxFiles){this.attachmentButtonDisable(p)}else{this.changeAttachmentButtonLabel(p,F.adobeForm.messages.attachmentAdd)}}this.validateAllAttachments()}this.updateAttachmentPersistentWarning();this.notifyFormResize()},initFooter:function f(){var k=F("#paymentlogo img");if(k.length&&k.outerWidth()==0){k.load(this.initFooter.bind(this));return }if(this.hasProgressBar){this.progressBar.show();this.progressBarText.text(F.adobeForm.messages.progressBarText.replace(/%1/,"100"));this.progressBar.css("width",this.progressBarText.outerWidth()+"px")}var t=this.nextButton.offset().top+this.nextButton.outerHeight()/2;var j=this.formPage.length-1;if(j==1){this.pageCountSpan.hide()}var o=this.isVisible(this.pageCountSpan);this.prevButton.show();var m=this.nextButton.val();var p=null;var r=0;var q=[F.adobeForm.messages.nextButtonText,this.submitButtonLabel];if(this.paymentProvider){q.push(F.adobeForm.messages.paymentSubmitButtonText)}for(var l in q){this.nextButton.val(q[l]);if(this.nextButton.outerWidth()>r){r=this.nextButton.outerWidth();p=q[l]}}this.nextButton.val(p);var n=this.pageCountSpan.text();if(o){var s=F.adobeForm.messages.pageSpanMessage.replace(/%1/,j);s=s.replace(/%2/,j);this.pageCountSpan.text(s)}if(this.hasProgressBar){this.progressBarText.text(F.adobeForm.messages.progressBarText.replace(/%1/,"100"));if(this.progressBar.offset().top>t){this.hasProgressBar=false;this.progressBar.hide()}}if(o){if(this.paymentProvider){if(this.paymentLogoDiv.offset().top>t){this.pageCountSpan.hide()}}else{if(this.pageCountSpan.offset().top>t){this.pageCountSpan.hide()}}}if((this.saveFormContainer&&this.saveFormContainer.offset().top>t)||(this.paymentProvider&&this.paymentLogoDiv.offset().top>t)){F(F.adobeForm.options.footerMargins).css({"padding-left":this.narrowFooterMargin,"padding-right":this.narrowFooterMargin})}this.prevButton.hide();this.nextButton.val(m);if(o){this.pageCountSpan.text(n)}this.progressBar.hide()},initFirstPage:function E(){this.gotoPage();this.displayRuleUpdateUI();this.pngFix(F(F.adobeForm.options.header))},initIEButtonPosition:function C(){if((F.browser.msie&&F.browser.version<11)||F.browser.android){var m=F(F.adobeForm.options.singleSelectRadioField+" "+F.adobeForm.options.choiceButton);for(var k=0;k<m.length;++k){var j=F(m[k]);var l=j.css("margin-top");l=parseInt(l,10);l=(l>=2)?l-2:0;j.css("margin-top",""+l+"px")}}},initHiddenForm:function g(){if(!this.form.is(":visible")){function j(){if(this.form.is(":visible")){this.initFooter();this.initIEButtonPosition();this.gotoHash("1")}else{this.callLater(j,250)}}this.callLater(j,250)}},initPageCache:function B(){if(F(F.adobeForm.options.formDataIsCached).val()){this.displayRuleUpdateUI();if(F(F.adobeForm.options.formHasUnsavedAttachments).val()){alert(F.adobeForm.messages.attachmentsNotPersisted)}this.updateAttachmentPersistentWarning()}F(F.adobeForm.options.formDataIsCached).val("1")},initPaymentAction:function P(){switch(this.paymentAction){default:case"complete":case"checkProgress":this.pleaseWait.html(F.adobeForm.messages.pleaseWaitPaymentStatus.replace(/%1/g,this.assetPath));this.pleaseWait.jqmShow();this.pollPaymentStatus();break;case"cancel":var k=this.embedSubmit&&this.redirectUrl?F.adobeForm.messages.paymentStatus_cancel_embed.replace(/%1/g,this.redirectUrl):F.adobeForm.messages.paymentStatus_cancel;var j=F.adobeForm.messages.paymentCancelHeader;this.reportStatus({message:k,header:j,code:this.paymentAction});break;case"failed":var k=F.adobeForm.messages.paymentStatus_failed;var j=F.adobeForm.messages.paymentFailedHeader;this.reportStatus({message:k,header:j,code:this.paymentAction});break}},pollPaymentStatus:function(){F.ajax({type:"post",url:this.paymentPath,contentType:"text/xml",data:null,processData:false,dataType:"xml",timeout:300000,success:function(o,j,n){var k=o?F(o).find("paymentInfo"):null;if(k&&k.length){var l=k.attr("status");this.saveStatus({message:"paymentInfo: "+(l?l:"none")});if(l==F.adobeForm.paymentStatus.completed){var r=this.confirmationMessage?this.confirmationMessage:F.adobeForm.messages["paymentStatus_"+l];this.reportStatus({message:r?r:l,code:l});this.processRedirect()}else{if(l==F.adobeForm.paymentStatus.inProgress){this.callLater(this.pollPaymentStatus,this.paymentPollDelay*1000)}else{if(l==F.adobeForm.paymentStatus.failed){var r=null;var p=k.attr("errorMsg");if(p){var q=F.adobeForm.messages[p];if(q){r=F.adobeForm.messages.formServerSuppliedErrorMsg.replace("{0}",q)}}if(!r){r=F.adobeForm.messages.paymentStatus_failed}var m=F.adobeForm.messages.paymentFailedHeader;this.reportStatus({message:r,header:m,code:p?p:l})}else{if(l==F.adobeForm.paymentStatus.redirect){if(this.paymentRecoveryUrl){document.location=decodeURIComponent(this.paymentRecoveryUrl)}}else{if(l){this.reportServerError(F.adobeForm.serverErrors.serverUnrecognizedError)}else{this.reportServerError(F.adobeForm.serverErrors.serverUnrecognizedResponse)}}}}}}else{this.reportServerError(F.adobeForm.serverErrors.serverUnrecognizedResponse)}}.bind(this),error:function(j,k,l){this.reportServerError(F.adobeForm.serverErrors.serverError)}.bind(this)})},validateRequired:function(l,j,m){if(!this.validator.depend(m,j)){return"dependency-mismatch"}if(this.preValidate&&m&&F(j).is(F.adobeForm.options.required)){return true}var k=F(j).is(F.adobeForm.options.attachmentButton)?this.attachmentsInNode(this.fieldNode(j)).length:F.validator.methods.originalRequired.call(this.validator,l,j,m);return(!k&&this.fieldNode(j).is(F.adobeForm.options.hideField))?true:k},validateNumberLimit:function(l,j){if(this.fieldNode(j).is(F.adobeForm.options.hideField)||this.validator.optional(j)){return true}var k=this.parseNumeric(l);return k==null||(isFinite(k)&&Math.abs(k)<1000000000000000)},parseAndValidateNumber:function(m,k,n){if(!n||!(n instanceof Function)){n=this.parseNumber}var l=this.fieldNode(k).is(F.adobeForm.options.hideField)||this.validator.optional(k);if(!l){var j=n.call(this,m);l=j!=null&&isFinite(j)}return l},validateNumber:function(k,j){return this.parseAndValidateNumber(k,j,this.parseNumber)},validatePositivePriceNumber:function(k,j){return this.parseAndValidateNumber(k,j,this.parsePositivePriceNumber)},validatePositiveInt:function(k,j){return this.parseAndValidateNumber(k,j,this.parsePositiveInt)},validateCurrency:function(k,j){return this.parseAndValidateNumber(k,j,this.parseCurrency)},validatePositiveCurrency:function(k,j){return this.parseAndValidateNumber(k,j,this.parsePositiveCurrency)},validateDate:function(k,j){if(this.fieldNode(j).is(F.adobeForm.options.hideField)||this.validator.optional(j)){return true}return this.parseDate(k)!=null},validatePercent:function(k,j){return this.parseAndValidateNumber(k,j,this.parsePercent)},validateEmail:function(p,m){var k="[a-zA-Z0-9!#$%&*+/?^_`{|}~-]";var o="[a-zA-Z0-9!#$%&*+/?^_`{|}~'=-]";var l="%1%2*(?:\\.%2+)*".replace(/%1/g,k).replace(/%2/g,o);var j="[a-zA-Z0-9-]";var q="(?:%1+\\.)+%1{2,}".replace(/%1/g,j);var n="^%1@%2$";var r=RegExp(n.replace(/%1/,l).replace(/%2/,q));return this.fieldNode(m).is(F.adobeForm.options.hideField)||this.validator.optional(m)||r.test(p.replace(/\s*/g,""))},validateAttachmentTotals:function(l,k){var m=this.fieldNode(k);if(m.is(F.adobeForm.options.hideField)||this.validator.optional(k)){return true}var j=this.validateAttachmentTotalSizeAndCount(m);this.attachmentError=j;return !j.element},validateAttachment:function(l,k){if(this.fieldNode(k).is(F.adobeForm.options.hideField)||this.validator.optional(k)){return true}var j=this.validateSingleAttachment(this.attachmentNode(k));this.attachmentError=j;return !j.element},validateMinLength:function(k,j,l){if(this.fieldNode(j).is(F.adobeForm.options.hideField)||this.validator.optional(j)){return true}return this.getLength(k,j)>=l},validateMaxLength:function(k,j,l){if(this.fieldNode(j).is(F.adobeForm.options.hideField)||this.validator.optional(j)){return true}return this.getLength(k,j)<=l},validateRangeLength:function(m,k,n){if(this.fieldNode(k).is(F.adobeForm.options.hideField)||this.validator.optional(k)){return true}var j=n.split(",");var l=this.getLength(m,k);return l>=j[0]&&l<=j[1]},getLength:function(k,j){return F.isArray(k)?k.length:this.validator.getLength(k,j)},validateExactLength:function(l,k,m){if(this.fieldNode(k).is(F.adobeForm.options.hideField)||this.validator.optional(k)){return true}var j=[m,m];return F.validator.methods.rangelength.call(this.validator,l,k,j)},validateMaxDate:function(k,j,l){return this.makeDateCheck(j,function(n,m){return n!=null&&m!=null&&n<=m},k,l)},validateMinDate:function(l,j,k){return this.makeDateCheck(j,function(n,m){return n!=null&&m!=null&&n>=m},l,k)},validateExactDate:function(k,j,l){return this.makeDateCheck(j,function(n,m){return n!=null&&m!=null&&n-0==m-0},k,l)},validateRangeDate:function(l,k,j){j=j.split(",");return this.makeDateCheck(k,function(o,n,m){return o!=null&&n!=null&&o>=n&&o<=m},l,j[0],j[1])},validateMinSelectedChoices:function(m,l,j){var k=this.fieldNode(l);if(k.is(F.adobeForm.options.hideField)||this.validator.optional(l)){return true}return k.find("input:checked").length>=j},validateMaxSelectedChoices:function(m,l,k){var j=this.fieldNode(l);if(j.is(F.adobeForm.options.hideField)||this.validator.optional(l)){return true}return j.find("input:checked").length<=k},validateExactSelectedChoices:function(m,l,k){var j=this.fieldNode(l);if(j.is(F.adobeForm.options.hideField)||this.validator.optional(l)){return true}return j.find("input:checked").length==k},validateRangeSelectedChoices:function(n,m,o){var k=this.fieldNode(m);if(k.is(F.adobeForm.options.hideField)||this.validator.optional(m)){return true}var j=o.split(",");var l=k.find("input:checked").length;return l>=parseInt(j[0],10)&&l<=parseInt(j[1],10)},requiredErrorMessage:function(k,j){return F(j).is(F.adobeForm.options.attachmentButton)?F.adobeForm.messages.fieldRequiredAttachment:F.adobeForm.messages.fieldRequired},formatRangeErrorMessage:function(j,k){if(arguments.length==1){return function(){var l=F.makeArray(arguments);l.unshift(j);return this.formatRangeErrorMessage.apply(this,l)}.bind(this)}if(arguments.length>2&&k.constructor!=Array){k=k.split(",")}F.each(k,function(l,m){j=j.replace(new RegExp("\\{"+l+"\\}","g"),m)});return j},attachmentErrorMessage:function(){return this.attachmentError.message},makeDateCheck:function(k,q,o,n,m){if(this.fieldNode(k).is(F.adobeForm.options.hideField)||this.validator.optional(k)){return true}var p=this.parseDate(o);var l=this.parseDate(n);var j=this.parseDate(m);return q(p,l,j)},alertDialog:function(p,n,l,j){this.startTrace("alertDialog");if(typeof (l)=="object"){j=l;l=null}var m='<div class="saveFormDlgContent" id="alertDlg"><img class="pngfix" src="%assetpath%images/%icon%" width="48" height="48"/><div id="ad_title" class="saveformalerttitle">%alerttitle%</div><div class="saveformalerttext">%alerttext%</div><input type="button" id="ad_btnOK" class="saveformbtn" value="%btnText%"/></div>';m=m.replace(/%assetpath%/,this.assetPath).replace(/%alerttitle%/,p?p:"").replace(/%alerttext%/,n).replace(/%btnText%/,F.adobeForm.messages.buttonOK);var k="warning_large.png";if(l){switch(l){case"docOk":k="doc_ok_large.png";break;case"docWarning":k="doc_warning_large.png";break}}m=m.replace(/%icon%/,k);this.saveFormDialog.html(m);this.pngFix(F("#alertDlg img"));if(!p){var o=F("#ad_title");o.hide()}F("#ad_btnOK").click(function(){this.saveFormDialog.dialog("close")}.bind(this));this.saveFormDialog.dialog("option","close",function(q,r){if(j){j.nextTask()}this.trace("alertDialog closed"+(j?": nextTask called":""))}.bind(this));this.saveFormDialog.dialog("open");this.endTrace("alertDialog")},savingDataDialog:function(n){this.startTrace("savingDataDialog");var m='<div class="saveFormDlgContent" id="saveFrmDlg"><div class="saveformalerttitle">%alerttitle%</div><div id="sdd_firstTimeSaveBlock" class="saveformwrapper"><div id="sdd_msgEnterEmail" class="saveformtext">%msg%</div><div id="sdd_emailComponentsWrapper" class="saveformwrapper"><form id="sdd_emailForm" action="noaction"><input id="sdd_email" class="email required" autofocus="" type="text" /><div id="sdd_invalidEmail"></div><input type="button" id="sdd_btnSend" class="saveformbtnemphasis" value="%sendbtn%"/></form></div></div><input type="button" id="sdd_btnClose"></div>';var l=this.dataStorageLength==1?F.adobeForm.messages.dataAvailableMsgSingular:F.adobeForm.messages.dataAvailableMsg.replace(/%1/,""+this.dataStorageLength);m=m.replace(/%assetpath%/,this.assetPath).replace(/%alerttitle%/,n?F.adobeForm.messages.saveFrmDlgTitle:F.adobeForm.messages.sendEmailDlgTitle).replace(/%msg%/,(n?F.adobeForm.messages.saveFrmDlgMsg:F.adobeForm.messages.sendEmailDlgMsg)+" "+l).replace(/%sendbtn%/,n?F.adobeForm.messages.buttonSaveSend:F.adobeForm.messages.buttonResend);this.saveFormDialog.html(m);if(this.atMostIEVersion(7)){F("#sdd_btnSend").addClass("sdd_btnSendIe7Fixup")}var o=F("#sdd_emailForm");this.validator=o.validate({onsubmit:false,focusInvalid:false,ignoreTitle:true,errorElement:"div",errorClass:F.adobeForm.options.validationErrorPlain.substr(1),validClass:F.adobeForm.options.validationValid.substr(1),errorPlacement:function(t,s){var r=F("#sdd_invalidEmail");r.empty();var u=F("<div></div>");u.addClass(F.adobeForm.options.fieldErrorArrow.substr(1));r.append(u);u.html('<div class="h0"><span></span></div><div class="h1"><span></span></div><div class="h2"><span></span></div><div class="h3"><span></span></div><div class="h4"><span></span></div><div class="h5"><span></span></div><div class="h6"><span></span></div><div class="h7"><span></span></div><div class="h8"><span></span></div>');if(!this.atMostIEVersion(8)){t.corner("3px")}r.append(t);r.append('<div class="null"></div>')}.bind(this),highlight:function(v,r,t){var v=F(v);var u=F("#sdd_invalidEmail");var s=F("#sdd_emailComponentsWrapper");v.removeClass(t);v.addClass(r);s.addClass(F.adobeForm.options.fieldError.substr(1));u.show()},unhighlight:function(v,r,t){var v=F(v);var u=F("#sdd_invalidEmail");var s=F("#sdd_emailComponentsWrapper");v.removeClass(r);v.addClass(t);s.removeClass(F.adobeForm.options.fieldError.substr(1));u.hide()},onkeyup:function(r){return true}});var q=F("#sdd_email");var k=F("#sdd_btnSend");var p="";if(!this.dataLinkEmail){if(this.sendToField){p=this.sendToField.val()}}else{p=this.sendToFieldValueChanged?this.sendToField.val():this.dataLinkEmail}if(p){q.val(p)}function j(){this.hideTooltip(k);if(o.valid()&&q.val()){this.dataLinkEmail=q.val();this.saveFormDialog.dialog("close");this.callLater(function(){if(n){this.saveFormDataDoIt()}else{this.sendDataLinkEmail(this.dataLinkEmail,this.dataId,false)}})}}F("#sdd_btnSend").click(j.bind(this));F("#sdd_emailForm").submit(function(){j.call(this);return false}.bind(this));F("#sdd_btnClose").click(function(){this.saveFormDialog.dialog("close")}.bind(this));this.saveFormDialog.dialog("option","close",function(r,s){this.validator=this.formValidator;this.hideTooltip(k);this.trace("savingDataDialog closed")}.bind(this));this.saveFormDialog.dialog("open");this.endTrace("savingDataDialog")},saveFormData:function(k){if(this.atMostIE6()){this.alertDialog(F.adobeForm.messages.saveDataErrTitle,F.adobeForm.messages.saveFormNotSupported);return }var j=!this.dataId;this.hideTooltip(this.saveFormContainer);if(j){this.savingDataDialog(j)}else{this.saveFormDataDoIt()}},hideTooltip:function(k){if(k){var j=k.data("tooltip");if(j){j.hide()}}},saveFormDataDoIt:function(){this.startTrace("saveFormDataDoIt");this.saveStatus({message:"Begin saving form data"});var k=this.hashedPage(""+this.maxVisitedPageNum);this.visitedPages=this.computeVisitedPages(k);var m=[];var o=this.attachmentList();o.each(function(p,s){s=F(s);if(s.attr("__status")!="ok"){m.push(function q(t){var v='<div class="saveFormProgress"><img src="%assetpath%images/spinner_dark.gif" width="24" height="24"/><div class="pleasewaittitle">%title%</div><div class="pleasewaittextnormal"><p>%msg%<br><br>%filename%<br>%progress%</p></div><div class="pleasewaittextsmall">%warning%</div></div>';var u=F.adobeForm.messages.uploadProgress.replace(/%1/,p+1).replace(/%2/,o.length);v=v.replace(/%assetpath%/,this.assetPath).replace(/%title%/,F.adobeForm.messages.saveFormSavingDataTitle).replace(/%msg%/,F.adobeForm.messages.saveFormUploadingMsg).replace(/%filename%/,this.attachmentFileName(s)).replace(/%progress%/,u).replace(/%warning%/,F.adobeForm.messages.uploadWarning);this.saveFormProgress.html(v);this.saveFormProgress.jqmShow();t.nextTask()});m.push(function r(t,u){if(this.fieldHasError(s)){t.notifyTaskError();t.nextTask()}else{return(this.isHACKATHON2013Camera&&s[0].blob)?this.uploadBlobAttachment(t,s,p,u):this.uploadFileAttachment(t,s,p,u)}})}});m.push(function l(p){var q=('<div class="saveFormProgress"><img src="%assetpath%images/spinner_dark.gif" width="24" height="24"/><div class="pleasewaittitle">%title%</div><div class="pleasewaittextnormal">%msg%</div></div>').replace(/%assetpath%/,this.assetPath).replace(/%title%/,F.adobeForm.messages.saveFormSavingDataTitle).replace(/%msg%/,F.adobeForm.messages.saveFormSavingDataMsg);this.saveFormProgress.html(q);this.saveFormProgress.jqmShow();p.nextTask()});m.push(this.saveDataToServer);m.push(function n(p){this.visitedPages=this.computeVisitedPages(this.visiblePage());p.nextTask()}.bind(this));var j={tasks:m,autoNextTask:false};j.args=[j,true];this.execute(j);this.endTrace("saveFormDataDoIt")},getFormDataUrl:function(){var j=/(.*)\?f=.*/.exec(this.form.attr("action"));var k=j[1]+"proxy/formdata/";return k},formatErrMsgWithRefCode:function(k,j){var l=k+"<br>"+F.adobeForm.messages.errRefMsg;l=l.replace(/%1/,j);return l},getFieldType:function(k){var j=this.fieldNode(k);if(j.is(F.adobeForm.options.textField)||j.is(F.adobeForm.options.dateField)||j.is(F.adobeForm.options.emailField)||j.is(F.adobeForm.options.numberField)||j.is(F.adobeForm.options.currencyField)||j.is(F.adobeForm.options.percentField)){return"tx"}if(j.is(F.adobeForm.options.singleSelectRadioField)){return"ss"}if(j.is(F.adobeForm.options.singleSelectDropdownField)){return"dd"}if(j.is(F.adobeForm.options.multipleSelectField)){return"ms"}if(j.is(F.adobeForm.options.likertField)){return"lk"}if(j.is(F.adobeForm.options.checkBoxField)){return"cb"}return null},compactString:function(j){return j.replace(/[\s\u00A0]/g,"")},getLikertFieldCaption:function(k){if(!this.likertFieldCaption){this.likertFieldCaption={}}var j=this.likertFieldCaption[k];if(!j){j=this.likertFieldCaption[k]=this.compactString(F("#"+k+" .fieldlabel").text()+F("#"+k+" thead").text())}return j},getLikertQuestionCaption:function(k){var l=null;if(!this.likerQuestionCaption){this.likerQuestionCaption={}}var j=this.likerQuestionCaption[k];if(!j){j=this.likerQuestionCaption[k]=this.compactString(F("#"+k+" .ctqlabel").text())}return j},getTextDropDownFieldCaption:function(j){return this.compactString(F("#"+j+" .fieldlabel").text())},getChoiceFieldCaption:function(j){return this.compactString(F("#"+j+" .grouplabel").text())},getCheckBoxFieldCaption:function(j){j=F(j);return this.compactString(F("#"+j.attr("name")+" .grouplabel").text()+F('label[for="'+j.attr("id")+'"]').text())},getFieldCaptionsAndValues:function(){this.startTrace("getFieldCaptionsAndValues");var l={};var j=l.fields={};var k=l.captions={};this.startTrace("getFieldCaptionsAndValues:collect inputs");var m=F();this.formPage.each(function(o,p){var n=F(p).index();if(n<=this.maxVisitedPageNum){var q=F(":input",p);m=m.add(q)}}.bind(this));this.endTrace("getFieldCaptionsAndValues:collect inputs");this.startTrace("getFieldCaptionsAndValues:get input values");m.each(function(u,w){w=F(w);var p=w.attr("name");if(/_other$/.test(p)){return }var q=this.fieldName(p);if(!l.firstField){l.firstField=q}var o=j[q];if(!o){o={name:q,fieldType:this.getFieldType(w),values:[]}}var x=null;var t=false;switch(o.fieldType){case"ss":case"ms":if(w.is(F.adobeForm.options.choiceOtherButton)&&w.is(":checked")){var n=F("#"+p+' .choicefield.other input[type="text"]');x=n.val();t=true}else{if(w.is(":checked")){x=w.val()}else{return }}k[q]=this.getChoiceFieldCaption(p);break;case"lk":if(w.is(":checked")){x=w.val()}else{return }var s=p.match(/(.*)q.*/)[1];var v=this.fieldName(s);k[q]=this.getLikertQuestionCaption(p);k[v]=this.getLikertFieldCaption(s);break;case"dd":if(!this.isDropDownOtherSelected(w)){x=w.val();if(!x){return }}else{var n=F("#"+p+' .dropdown.other input[type="text"]');x=n.val();t=true}k[q]=this.getTextDropDownFieldCaption(p);break;case"tx":x=w.val();if(!x){return }k[q]=this.getTextDropDownFieldCaption(p);break;case"cb":if(w.is(":checked")){x="true"}else{return }k[q]=this.getCheckBoxFieldCaption(w);break;default:return }var r={value:x};if(t){r.isOtherChoice=true}o.values.push(r);if(o.values.length==1){j[q]=o}}.bind(this));this.endTrace("getFieldCaptionsAndValues:get input values");this.endTrace("getFieldCaptionsAndValues");return l},getAttachmentValues:function(){this.startTrace("getAttachmentValues");var q=[];var r=F(F.adobeForm.options.attachmentList);for(var o=0;o<r.length;o++){var k=F(r[o]);var l={columnId:this.fieldName(k),files:[]};var m=this.attachmentsInNode(k);for(var n=0;n<m.length;n++){attachment=F(m[n]);if(attachment.attr("__status")=="ok"&&!attachment.find(F.adobeForm.options.validationError).length){var s={};var p;if(p=attachment.attr("__fileName")){s.fileName=p}if(p=attachment.attr("__fileSize")){s.fileSize=p}if(p=attachment.attr("__assetID")){s.assetId=p}if(p=attachment.attr("__mimeType")){s.mimeType=p}l.files.push(s)}}if(l.files.length){q.push(l)}}this.endTrace("getAttachmentValues");return q},dataVersion:function(){return this.dataModelVersion+"-"+this.formModelVerSignature},saveDataToServer:function R(j){var l={formId:this.formId,dataVersion:this.dataVersion(),currentPage:this.visiblePage().index(),maxVisitedPageNum:this.maxVisitedPageNum,attachments:this.getAttachmentValues()};F.extend(l,this.getFieldCaptionsAndValues());var m=JSON.stringify(l);var n=this.getFormDataUrl()+"?a=sd";var k={f:this.formId,fd:m};if(this.dataId){k.d=this.dataId}var o=F.ajax({type:"post",url:n,contentType:"application/x-www-form-urlencoded;charset=utf-8",data:k,processData:true,dataType:"json",timeout:60000});o.done(function(p,t,q){this.startTrace("saveDataToServer response");this.saveFormProgress.jqmHide();if(p.result&&p.result=="ok"){this.trace("saveDataToServer response ok");if(p.dataId){var r=!this.dataId;this.dataId=p.dataId;if(r){this.callLater(function(){this.sendDataLinkEmail(this.dataLinkEmail,this.dataId,true,j.errorsEncountered())})}else{if(j.errorsEncountered()){this.alertDialog(F.adobeForm.messages.partialSavedDlgTitle,F.adobeForm.messages.partialSavedDlgMsg,"docWarning")}else{var u="%confirmtext% <a href=\"javascript:$('#form').data('adobeForm').resendDataLinkEmail()\">%linktext%</a>".replace("%confirmtext%",F.adobeForm.messages.progressSavedConfirm).replace("%linktext%",F.adobeForm.messages.resendEmailLinkText);this.showSlider(u)}}}}else{this.trace("saveDataToServer response failure");var s=(p.result=="saveFormDisabled")?F.adobeForm.messages.saveFormDisabledForSave:this.formatErrMsgWithRefCode(F.adobeForm.messages.saveDataServerErrMsg,p.errorReferenceCode);this.alertDialog(F.adobeForm.messages.saveDataErrTitle,s)}j.nextTask();this.endTrace("saveDataToServer response")}.bind(this));o.fail(function(p,q,r){this.saveFormProgress.jqmHide();this.alertDialog(F.adobeForm.messages.saveDataErrTitle,q=="timeout"?F.adobeForm.messages.saveDataNetworkErrMsg:F.adobeForm.messages.saveDataServerErrMsg);j.nextTask();this.trace("saveDataToServer failure")}.bind(this))},resendDataLinkEmail:function(){this.closeSlider();this.savingDataDialog(false)},sendDataLinkEmail:function(k,j,l,p){this.startTrace("sendDataLinkEmail");var o=this.getFormDataUrl()+"?a=sm";var n={f:this.formId,d:j,m:k};if(this.parentUrl){n.p=this.parentUrl}if(this.paymentTesting){n.ps="true"}var m=F.ajax({type:"post",url:o,contentType:"application/x-www-form-urlencoded;charset=utf-8",data:n,processData:true,dataType:"json",timeout:60000});m.done(function(q,t,r){this.startTrace("sendDataLinkEmail response");if(q.result=="ok"){this.trace("sendDataLinkEmail response ok");this.sendToFieldValueChanged=false;if(l&&p){this.alertDialog(F.adobeForm.messages.partialSavedDlgTitle,F.adobeForm.messages.partialSavedDlgMsg,"docWarning")}else{var u=l?F.adobeForm.messages.progressSavedConfirm:F.adobeForm.messages.dataEmailConfirm;this.showSlider(u)}}else{this.trace("sendDataLinkEmail response failure");var s=(q.result=="saveFormDisabled")?F.adobeForm.messages.saveFormDisabledForEmail:this.formatErrMsgWithRefCode(F.adobeForm.messages.dataEmailServerErrMsg,q.errorReferenceCode);this.alertDialog(F.adobeForm.messages.dataEmailErrTitle,s)}this.endTrace("sendDataLinkEmail response")}.bind(this));m.fail(function(q,r,s){this.alertDialog(F.adobeForm.messages.dataEmailErrTitle,r=="timeout"?F.adobeForm.messages.dataEmailNetworkErrMsg:F.adobeForm.messages.dataEmailServerErrMsg);this.trace("sendDataLinkEmail failure")}.bind(this));this.endTrace("sendDataLinkEmail")},closeSlider:function(){if(this.showingSliderTooltip){clearTimeout(this.sliderTimer);this.showingSliderTooltip=false;this.sliderTooltip.hide()}},showSlider:function(k,j){if(!j){j=5000}if(this.showingSliderTooltip){this.closeSlider()}this.showingSliderTooltip=true;F(F.adobeForm.options.sliderMsg).html(k);this.sliderTooltip.show();this.sliderTimer=this.callLater(function(){this.closeSlider()},j)},getDataIdFromHash:function(){var k=window.location.hash.substring(1),l=k.split("="),j=l.length==2&&l[0]=="d"?decodeURIComponent(l[1]):null;return j},warnPaymentDisabled:function N(j){if(this.paymentProvider&&this.disablePayments){this.alertDialog(null,F.adobeForm.messages.paymentDisabledMsg,j)}else{j.nextTask()}},restoreFormData:function d(j){if(this.dataId){if(this.atMostIE6()){this.alertDialog(F.adobeForm.messages.restoreDataErrTitle,F.adobeForm.messages.saveFormNotSupported,j)}else{this.restoreServerFormData(this.dataId,j)}}else{j.nextTask()}},restoreServerFormData:function(l,k){this.startTrace("restoreServerFormData");var m=('<div class="saveFormProgress"><img src="%assetpath%images/spinner_dark.gif" width="24" height="24"/><div class="pleasewaittitle">%title%</div><div class="pleasewaittextnormal">%msg%</div><div id="pageprogress" class="pleasewaittextnormal">%progress%</div></div>').replace(/%assetpath%/,this.assetPath).replace(/%title%/,F.adobeForm.messages.saveFormSavingDataTitle).replace(/%msg%/,F.adobeForm.messages.saveFormRestoringDataMsg).replace(/%progress%/,"");this.saveFormProgress.html(m);this.saveFormProgress.jqmShow();var j=this.getFormDataUrl()+"?a=gd";var n={f:this.formId,d:l};var o=F.ajax({type:"post",url:j,contentType:"application/x-www-form-urlencoded;charset=utf-8",data:n,processData:true,dataType:"json",timeout:60000});o.done(function(p,s,q){this.startTrace("restoreServerFormData response");if(p.result=="ok"){this.trace("restoreServerFormData response ok");this.sendToFieldValueChanged=false;if(p.dataLinkEmail){this.dataLinkEmail=p.dataLinkEmail}if(p.data){this.restoreDataDoIt(p.data,k)}else{this.saveFormProgress.jqmHide();this.alertDialog(F.adobeForm.messages.restoreDataErrTitle,F.adobeForm.messages.restoreDataServerErrMsg,k)}}else{this.trace("restoreServerFormData response failure");this.saveFormProgress.jqmHide();this.dataId=null;var r;switch(p.result){case"invalidDataId":r=F.adobeForm.messages.restoreDataInvalidUrlErrMsg;break;case"dataNotFound":r=F.adobeForm.messages.restoreDataExpiredErrMsg;break;case"saveFormDisabled":r=F.adobeForm.messages.saveFormDisabledForRestore;break;default:r=this.formatErrMsgWithRefCode(F.adobeForm.messages.restoreDataServerErrMsg,p.errorReferenceCode);break}this.alertDialog(F.adobeForm.messages.restoreDataErrTitle,r,k)}this.endTrace("restoreServerFormData response")}.bind(this));o.fail(function(p,q,r){this.saveFormProgress.jqmHide();this.alertDialog(F.adobeForm.messages.restoreDataErrTitle,q=="timeout"?F.adobeForm.messages.restoreDataNetworkErrMsg:F.adobeForm.messages.restoreDataServerErrMsg,k);this.trace("restoreServerFormData failure")}.bind(this));this.endTrace("restoreServerFormData")},restoreDataDoIt:function(p,k){var n=jQuery.parseJSON(p);if(n.formId!=this.formId||!n.hasOwnProperty("attachments")||!F.isArray(n.attachments)||!n.hasOwnProperty("fields")||!n.hasOwnProperty("captions")){this.saveFormProgress.jqmHide();this.alertDialog(F.adobeForm.messages.restoreDataErrTitle,F.adobeForm.messages.restoreDataServerErrMsg,k);return }if(n.maxVisitedPageNum){this.maxVisitedPageNum=n.maxVisitedPageNum}this.restoreAttachments(n.attachments);this.restoreFieldValues(n.fields,n.captions);this.updateUI();if(n.dataVersion!=this.dataVersion()){this.saveFormProgress.jqmHide();this.validatePage(this.visiblePage(),{preValidate:true});this.alertDialog(F.adobeForm.messages.formChangedDlgTitle,F.adobeForm.messages.formChangedDlgMsg,"docWarning",k)}else{var m=F.adobeForm.messages.saveFormRestoreProgressMsg.replace(/%total%/,this.formPage.length-1);var l=F("#pageprogress",this.saveFormProgress);var q=[];for(var o=2;o<this.formPage.length&&o<=n.currentPage;o++){var j=m.replace(/%now%/,o-1);q.push(function(r,s){l.html(r);if(this.visiblePage().index()!=n.currentPage){this.clickNext()}s.nextTask()}.bind(this,j))}q.push(function(r){this.saveFormProgress.jqmHide();this.validatePage(this.visiblePage(),{preValidate:true});this.validateAllAttachments();this.alertDialog(null,F.adobeForm.messages.restoredDlgMsg,"docOk");r.nextTask()}.bind(this));var k={tasks:q,autoNextTask:false};k.args=[k];this.execute(k)}},restoreAttachments:function(l){this.startTrace("restoreAttachments");for(var n=0;n<l.length;n++){var s=l[n];var q=this.htmlName(s.columnId);if(q){var r=F("#"+q);var k=this.attachments[r.attr("id")];for(var m=0;m<s.files.length;m++){var p=s.files[m];var o=F('<div class="attachment"><input class="attachmentfile validationvalid" type="file" id="%name%a%id%" name="%name%" disabled="disabled"></div>'.replace(/%name%/g,q).replace(/%id%/g,""+ ++k.sequenceNumber));o.attr("__fileName",p.fileName);o.attr("__fileSize",p.fileSize);o.attr("__mimeType",p.mimeType);o.attr("__assetID",p.assetId);o.attr("__status","ok");this.addAttachment(r,o)}}}this.endTrace("restoreAttachments")},restoreText:function(k,j,l,n){var m=k[l.name];if(m!=this.getTextDropDownFieldCaption(j)){return }if(l.fieldType=="cb"){return }if(l.values.length==1){n.val(l.values[0].value)}},addValueToOtherText:function(k,n,l){var m=typeof (k)=="string"?F("#"+k+' .choicefield.other input[type="text"]'):k;var j=m.val();m.val((j?(j+","):"")+n);if(l){m.css({opacity:1})}},setOtherChoice:function(m,j,k){var l=F("#"+j+' .choicefield.other input[type="text"]');m.selected(true);this.otherChoiceChecked(m,l);this.addValueToOtherText(l,k,true)},restoreRadioButtons:function(o,l,k,j){var p=this.getFieldType(j[0]);if(p=="lk"){var n=l.match(/(.*)q.*/)[1];var q=this.fieldName(n);if(o[q]!=this.getLikertFieldCaption(n)||o[k.name]!=this.getLikertQuestionCaption(l)){return }}else{if(o[k.name]!=this.getChoiceFieldCaption(l)){return }}if(k.values.length>1){return }var m=k.values[0];var s=F("#"+l+' .choicefield.other input[type="radio"]');if(m.isOtherChoice&&s.length){this.setOtherChoice(s,l,m.value)}else{var r=F("[name="+l+'][value="'+m.value+'"]');if(r.length){r.selected(true)}}},restoreCheckBoxes:function(p,l,k,j){if(j.length==1){var n=this.getFieldType(j[0]);if(n=="cb"){if(p[k.name]!=this.getCheckBoxFieldCaption(j[0])){return }if(k.fieldType=="cb"){j.selected(true);return }else{if(k.fieldType=="tx"){return }}}else{if(p[k.name]!=this.getChoiceFieldCaption(l)){return }}}var r=F("#"+l+' .choicefield.other input[type="checkbox"]');for(var o=0;o<k.values.length;o++){var m=k.values[o];if(m.isOtherChoice&&r.length){this.setOtherChoice(r,l,m.value);continue}var q=F("[name="+l+'][value="'+m.value+'"]');if(q.length){q.selected(true)}}},restoreDropdown:function(k,j,l,o){if(k[l.name]!=this.getTextDropDownFieldCaption(j)){return }if(l.values.length>1){return }var n=l.values[0];var m=F("#"+j+' .dropdown.other input[type="text"]');if(n.isOtherChoice&&m.length){m.show();m.addClass(F.adobeForm.options.required.substr(1));this.addValueToOtherText(m,n.value,true);o[0].selectedIndex=o[0].options.length-1}else{o.val(n.value)}},restoreFieldValues:function(q,p){this.startTrace("restoreFieldValues");this.visitedPages={};for(var n=1;n<this.formPage.length;n++){this.visitedPages[F(this.formPage[n]).attr("id")]=true}for(var m in q){if(!q.hasOwnProperty(m)){continue}var k=q[m];var l=this.htmlName(k.name);var j=F("[name="+l+"]");if(!j.length){continue}var o=j.prop("tagName");var r=o=="INPUT"?j.attr("type").toUpperCase():"";if((o=="INPUT"&&r=="TEXT")||o=="TEXTAREA"){this.restoreText(p,l,k,j)}else{if(o=="INPUT"&&r=="RADIO"){this.restoreRadioButtons(p,l,k,j)}else{if(o=="INPUT"&&r=="CHECKBOX"){this.restoreCheckBoxes(p,l,k,j)}else{if(o=="SELECT"){this.restoreDropdown(p,l,k,j)}}}}this.displayRuleUpdateUI(l)}this.visitedPages={page1:true};this.endTrace("restoreFieldValues")},clickNext:function(l){this.startTrace("clickNext",{reset:true});try{this.navButtonClicked=true;var k=this.visiblePage();if(this.validatePage(k)){var j=this.nextPage(k);if(j.length){this.gotoPage(j);var n=j.index();if(n>this.maxVisitedPageNum){this.maxVisitedPageNum=n}}else{if(l&&l.target&&l.target==this.nextButton[0]){this.updateProgress(100);this.submit("manualSubmit")}else{F.adobeForm.log("Undesired clickNext call for submission!")}}}}catch(m){F.adobeForm.log("Error detected while processing click next.  "+F.adobeForm.messages.pleaseContact)}this.navButtonClicked=false;this.endTrace("clickNext");return false},clickPrev:function(k){this.startTrace("clickPrev",{reset:true});try{this.navButtonClicked=true;var j=this.visiblePage();if(j.index()>1&&this.pageHistoryIndex>0){this.gotoHash(this.pageHistory[--this.pageHistoryIndex]);if(!this.embed){history.back()}}}catch(l){F.adobeForm.log("Error detected while processing click back.  "+F.adobeForm.messages.pleaseContact)}this.navButtonClicked=false;this.endTrace("clickPrev");return false},computeVisitedPages:function(l){var j={};for(var k=F(this.formPage[1]);k.length;k=this.nextPage(k)){j[k.attr("id")]=true;if(k.is(l)){break}}return j},nextPage:function(m){var j=m.next();if(j.length){var n=this.navigationRules[m.attr("id")];if(n){j=F("#"+n.defaultDestination);for(var k in n.branches){var l=n.branches[k];if(typeof (l)!="object"){break}if(this.ruleConditionIsSatisfied(l)){j=F("#"+l.destination);break}}}}return j},submit:function(k){if(k!="manualSubmit"){return }this.startTrace("submit");this.saveStatus({message:"Begin submit"});var l=[];this.attachmentList().each(function(n,p){p=F(p);if(p.attr("__status")!="ok"){l.push(function o(q){this.pleaseWait.html(F.adobeForm.messages.pleaseWaitUpload.replace(/%1/g,this.assetPath).replace(/%2/g,""+(n+1)).replace(/%3/g,""+this.attachmentList().length).replace(/%4/g,this.attachmentFileName(p)));this.pleaseWait.jqmShow();q.nextTask()});l.push(function m(q){return(this.isHACKATHON2013Camera&&p[0].blob)?this.uploadBlobAttachment(q,p,n):this.uploadFileAttachment(q,p,n)})}});l.push(function j(m){var n;if(this.paymentProvider){n=this.embed?F.adobeForm.messages.pleaseWaitPayEmbed:F.adobeForm.messages.pleaseWaitPay;n=n.replace(/%1/g,this.assetPath).replace(/%2/g,this.paymentProviderName).replace(/%3/g,this.paymentLogoFile)}else{n=F.adobeForm.messages.pleaseWaitSubmit.replace(/%1/g,this.assetPath)}this.pleaseWait.html(n);this.pleaseWait.jqmShow();m.nextTask()});l.push(this.submitFields);this.execute({tasks:l,autoNextTask:false});this.endTrace("submit")},uploadFileAttachment:function(r,o,q,j){this.startTrace("uploadFileAttachment");this.saveStatus({message:"Upload attachment"});var v=this.fieldNode(o);var m=this.attachments[v.attr("id")];var t='<div style="display:none;"><form id="%1" method="post" enctype="multipart/form-data" action="%2"><input type="text" name="f" value="%3"><input type="text" name="reqid" value="%4"></form><iframe id="%5" name="%5" src=""></iframe></div>';t=t.replace(/%1/g,F.adobeForm.options.uploadForm.substr(1)).replace(/%2/g,this.uploadPath).replace(/%3/g,this.formId).replace(/%4/g,this.reqId).replace(/%5/g,F.adobeForm.options.uploadTarget.substr(1));var l=F(t);F(document.body).append(l);var u=F(F.adobeForm.options.uploadForm);var w=this.attachmentFile(o);var k=w.attr("name");w.attr("name","filedata");w.removeAttr("disabled");u.append(w);var n=F(F.adobeForm.options.uploadTarget);n.attr("width",0);n.attr("height",0);n.attr("border",0);n.attr("style","width: 0; height: 0; border: none;");u.attr("target",F.adobeForm.options.uploadTarget.substr(1));var s=m.maxFileSize/(12.5*1024);if(s<300){s=300}var p=this.callLater(function(){w.attr("name",k);w.attr("disabled",true);w.insertBefore(o.children().first());l.remove();this.showErrors([{element:w[0],message:F.adobeForm.messages.UploadError}]);this.showFirstErrorPage();this.saveStatus({message:"timeout"})},s*1000);n.load(function(){this.startTrace("uploadFileAttachment iframe loaded");clearTimeout(p);w.attr("name",k);w.attr("disabled",true);w.insertBefore(o.children().first());setTimeout(function(){l.remove()},1);var AA=false;try{var y=n.contents();var x=y.find("formsUpload");var z={};z.status=x.attr("status");if(z.status){z.mimeType=x.attr("mimeType");z.fileSize=x.attr("fileSize");z.assetID=x.attr("assetID")}else{if(y[0]&&y[0].body){var AE=y[0].body.innerText;if(AE&&AE.match("formsUpload")){function AC(AH){var AG=AE.match(AH);return(AG&&AG.length>1)?AG[1]:undefined}z.status=AC(/status="(.*?)"/);z.mimeType=AC(/mimeType="(.*?)"/);z.fileSize=AC(/fileSize="(.*?)"/);z.assetID=AC(/assetID="(.*?)"/)}}}this.saveStatus({message:"formsUpload: "+(z.status?z.status:"none")});if(z.status=="ok"){o.attr("__status",z.status);if(z.mimeType!==undefined){o.attr("__mimeType",z.mimeType)}if(z.fileSize!==undefined){o.attr("__fileSize",z.fileSize)}if(z.assetID!==undefined){o.attr("__assetID",z.assetID)}o.find(".attachmentsize").html(this.attachmentFileSize(o));var AD=this.validateSingleAttachment(o);if(!AD.element){AD=this.validateAttachmentTotalSizeAndCount(this.fieldNode(o))}if(AD.element){this.showErrors([AD]);this.showFirstErrorPage();r.notifyTaskError()}else{AA=true}}else{if(F.adobeForm.messages[z.status]){if(z.fileSize!==undefined){o.attr("__fileSize",z.fileSize);o.find(".attachmentsize").html(this.attachmentFileSize(o))}var AF=F.adobeForm.messages[z.status];switch(z.status){case"TooLarge":AF=AF.replace("{0}",this.formatFileSize(m.maxFileSize));break;case"UploadSizeExceeded":AF=AF.replace("{0}",""+this.formatFileSize(this.attachmentUploadSize));break;case"CountExceeded":AF=AF.replace("{0}",""+m.maxFiles).replace("{1}",""+(this.attachmentListNode(o).children().length-m.maxFiles));break}this.showErrors([{element:w[0],message:AF}]);this.showFirstErrorPage();r.notifyTaskError()}else{r.notifyTaskError();if(!j){this.reportServerError(F.adobeForm.serverErrors[z.status]?F.adobeForm.serverErrors[z.status]:F.adobeForm.serverErrors.serverUnrecognizedResponse)}}}}catch(AB){r.notifyTaskError();F.adobeForm.log("Unexpected "+this.attachmentFileName(o)+" upload error: "+AB.description);if(!j){this.reportServerError(F.adobeForm.serverErrors.Unknown)}}if(AA||j){r.nextTask()}else{r.terminate()}this.endTrace("uploadFileAttachment iframe loaded")}.bind(this));u.submit();this.endTrace("uploadFileAttachment")},uploadBlobAttachment:function(j,n,l){this.startTrace("uploadBlobAttachment");var k=this.attachments[this.fieldNode(n).attr("id")];var m=new FormData();m.append("f",this.formId);m.append("filedata",n[0].blob,n.attr("__fileName"));F.ajax({url:this.uploadPath,data:m,cache:false,contentType:false,processData:false,type:"POST",timeout:300000,success:function(q){this.startTrace("uploadBlobAttachment");var r=F(q).find("formsUpload");var o={};o.status=r.attr("status");o.mimeType=r.attr("mimeType");o.fileSize=r.attr("fileSize");o.assetID=r.attr("assetID");n.attr("__status",o.status);if(o.mimeType!==undefined){n.attr("__mimeType",o.mimeType)}if(o.fileSize!==undefined){n.attr("__fileSize",o.fileSize)}if(o.assetID!==undefined){n.attr("__assetID",o.assetID)}var p=this.validateSingleAttachment(n);if(!p.element){p=this.validateAttachmentTotalSizeAndCount(this.fieldNode(n))}if(p.element){this.showErrors([p]);this.showFirstErrorPage();j.terminate()}else{if(!j.autoNextTask){j.nextTask()}}this.endTrace("uploadBlobAttachment")}.bind(this),error:function(o,p,q){F.adobeForm.log("Unexpected "+this.attachmentFileName(n)+" upload error: "+e.description);this.notifyFormEvent("submit",{status:"error",message:p});this.reportServerError(F.adobeForm.serverErrors.serverError)}.bind(this)});this.endTrace("uploadBlobAttachment")},submitFields:function V(p){this.saveStatus({message:"Collect fields"});var t=F();this.formPage.each(function(j,v){v=F(v);if(this.visitedPages[v.attr("id")]){var z=v.find(":input").filter(function(AD,AE){AE=F(AE);var AC=this.fieldNode(AE);if(AC.is(F.adobeForm.options.textField)){AE.val(AE.val().trim())}var AB=false;if(this.isOtherText(AE)){var AA=this.textToOther(AE);if(AA.length){if(AA.is("[type=radio]")||AA.is("[type=checkbox]")){AB=!!AA.attr("checked")}else{if(AA.is("select")){AB=this.isDropDownOtherSelected(AA)}}}}else{AB=!this.isDropDownOtherSelected(AE)}return AB}.bind(this));t=t.add(z)}}.bind(this));var q=t.serializeArray();var s={};for(var n in q){var l=q[n].name;var o=l.match(/p(\d*)f.*/);var y=(o&&o[1])?F(this.formPage[o[1]]):F(document);var r=y.find("[name=%name%]:first".replace(/%name%/,l));if(r.length&&q[n].value&&!this.fieldIsHidden(r)){l=this.otherWidgetName(l);if(s[l]===undefined){s[l]=[n]}else{s[l].push(n)}}}var k='<acrobat-form-submission dataModelVersion="%1"';if(this.paymentProvider){k+=' paymentEnabled="true" paymentVerSignature="'+this.paymentVerSignature+'"'}if(this.embed){k+=' embed="true"'}if(this.dataId){k+=(' dataId="'+this.dataId+'"')}k+="><input>";k=k.replace(/%1/,this.dataModelVersion);for(var n in s){var x=s[n];var l=this.otherWidgetName(q[x[0]].name);var u="";for(var m in x){var w=q[x[m]].value;if(w.length){u+=(u.length?";":"")+w}}k+='<field id="'+this.fieldName(l)+'" value="'+this.xmlEncode(u)+'"/>'}F(F.adobeForm.options.attachmentList).filter(function(j,v){return !this.fieldIsHidden(v)}.bind(this)).each(function(v,z){var j=this.attachmentsInNode(F(z));if(j.length){k+='<field id="'+this.fieldName(this.fieldNode(j[0]).attr("id"))+'"><attachments>';j.each(function(AA,AC){AC=F(AC);var AB='<attachment assetID="%1" fileName="%2" mimeType="%3" fileSize="%4"/>';AB=AB.replace(/%1/,this.xmlEncode(AC.attr("__assetID")));AB=AB.replace(/%2/,this.xmlEncode(this.attachmentFileName(AC)));AB=AB.replace(/%3/,this.xmlEncode(AC.attr("__mimeType")));AB=AB.replace(/%4/,this.xmlEncode(AC.attr("__fileSize")));k+=AB}.bind(this));k+="</attachments></field>"}}.bind(this));k+="</input></acrobat-form-submission>";if(this.xlatePost){k=this.xlatePost(k)}this.trace("submitFields : "+k);this.saveStatus({message:"Post fields"});F.ajax({type:"post",url:this.form.attr("action"),contentType:"text/xml",data:k,processData:false,dataType:"xml",timeout:300000,success:function(AG,v,AC){this.startTrace("submitFields response");if(this.xlateResp){AG=this.xlateResp(AG)}p.nextTask();var j=AG?F(AG).find("form"):null;if(j&&j.length){var AA=j.attr("status");this.saveStatus({message:"form: "+(AA?AA:"none")});if(AA=="success"||AA=="formClosed"||AA=="formUserError"){var AB=j.attr("paymentRedirect");if(AB){AB=decodeURIComponent(AB);if(this.embed){window.top.location=AB}else{document.location=AB}return }var AJ=j.attr("message");if(AJ&&AA=="formUserError"){AJ=F.adobeForm.messages[AJ];if(AJ){AJ=F.adobeForm.messages.formServerSuppliedErrorMsg.replace("{0}",AJ)}this.reportStatus({message:AJ?AJ:F.adobeForm.messages[AA],header:F.adobeForm.messages.paymentFailedHeader,code:AA})}else{this.reportStatus({message:AJ?AJ:F.adobeForm.messages[AA],code:AA})}this.notifyFormEvent("submit",{status:AA});if(AA=="success"){if(!this.skipUpsellAllowed){this.upsellBanner.show();var AD=F(F.adobeForm.options.tryForFree);var AF=F(F.adobeForm.options.promoCaption);if(AD.length&&AF.length){var AE=AD[0].offsetWidth+20;var z=this.upsellMsg[0].offsetWidth-AE-20;AF.width(z)}}this.processRedirect()}this.notifyFormResize()}else{if(AA=="formValidationError"){this.notifyFormEvent("submit",{status:AA});var AI=[];var AH=false;F(AG).find("validation_error").each(function(AO,AN){var AM=F(AN).attr("message");if(F.adobeForm.serverErrors[AM]){this.reportServerError(F.adobeForm.serverErrors[AM]);AH=true;return false}var AL=this.htmlName(F(AN).attr("field"));var AK=F("[name=%name%]".replace(/%name%/,AL));if(AM=="fieldRequired"&&AK.is(F.adobeForm.options.attachmentButton)){AM="fieldRequiredAttachment"}AM=F.adobeForm.messages[AM];if(!AM){AM=F.adobeForm.messages.fieldValidationError}if(AK.length){AI.push({element:AK[0],message:AM})}else{this.saveStatus({message:"missing element: "+(AL?AL:"none")})}}.bind(this));if(!AH){if(AI.length!=0){this.showErrors(AI);this.showFirstErrorPage();this.saveStatus({message:"show error"})}else{this.reportServerError(F.adobeForm.serverErrors.serverUnrecognizedResponse)}}}else{if(F.adobeForm.serverErrors[AA]){this.reportServerError(F.adobeForm.serverErrors[AA])}else{if(F.adobeForm.messages[AA]){this.reportStatus({message:F.adobeForm.messages[AA],code:AA})}else{if(AA){var AJ=j.attr("message");if(AJ){this.reportStatus({message:AJ,code:AA})}else{this.reportServerError(F.adobeForm.serverErrors.serverUnrecognizedError)}}else{this.reportServerError(F.adobeForm.serverErrors.serverUnrecognizedResponse)}}}}}}else{this.reportServerError(F.adobeForm.serverErrors.serverUnrecognizedResponse)}p.nextTask();this.endTrace("submitFields response")}.bind(this),error:function(j,v,z){p.nextTask();this.notifyFormEvent("submit",{status:"error",message:v});this.reportServerError(F.adobeForm.serverErrors.serverError)}.bind(this)})},processRedirect:function(){var m=this.redirectUrl;var n=this.redirectDelay;if(m&&n>=5){var j=this.redirectParent=="true";var k=this.redirectWidth;var l=this.redirectHeight;this.callLater(function(){if(this.embed&&!j){this.notifyFormEvent("beforeRedirect",{redirectWidth:(k>0)?k:this.form.width(),redirectHeight:(l>0)?l:this.redirectDefaultHeight})}this.callLater(function(){var o=this.visiblePage();if(o.attr("id")===this.formComplete.attr("id")){m=decodeURIComponent(m);if(this.embed&&!this.dataId&&!j&&/adobeformscentral\.com/i.test(m)&&(m.indexOf("?f="+this.formId)>0)){document.location.reload(true)}else{if(this.embed&&j){window.top.location=m}else{if(this.embed&&/adobeformscentral\.com.*\?f=/i.test(m)){m+="&embed="+encodeURIComponent(this.targetUrl);m+="&sh="+(this.showHeader?"1":"0");if(this.transparent){m+="&tr"}if(this.preview){m+="&preview"}if(this.paymentTesting){m+="&paymentssandbox"}}document.location=m}}}})},n*1000)}},isDropDownOtherSelected:function(j){return j.is("select")&&this.parentNode(j,F.adobeForm.options.ddOther).length&&j[0].selectedIndex==j.find("option").length-1},textToOther:function(j){return F("#%id%".replace(/%id%/,this.otherWidgetName(F(j).attr("id"))))},otherWidgetName:function(j){return j.replace(RegExp(F.adobeForm.options.otherID+"$"),"")},isOtherText:function(j){return j.is("input[type=text]")&&RegExp(F.adobeForm.options.otherID+"$").test(j.attr("id"))},changeAttachmentButtonLabel:function(k,j){if(!this.isHACKATHON2013Camera||!k.is(F.adobeForm.options.camera)){k.attr("value",j);this.adjustAttachmentButtonContainer(k)}},adjustAttachmentButtonContainer:function(j){this.attachmentButtonContainer(j).width(j.prop("offsetWidth")+5)},updateAttachmentPersistentWarning:function(){F(F.adobeForm.options.formHasUnsavedAttachments).val(!!F(F.adobeForm.options.attachment+" "+F.adobeForm.options.attachmentFile).length?"1":"")},attachmentImplementation:function(j){return"."+this.fieldNode(j).find(F.adobeForm.options.attachments).attr("class").match(/attachmentbutton\S+impl/)},attachmentList:function(){return F(F.adobeForm.options.attachment).filter(function(j,k){return !this.fieldIsHidden(k)}.bind(this))},attachmentListNode:function(j){return this.fieldNode(j).find(F.adobeForm.options.attachmentList)},attachmentButtonContainer:function(j){return this.fieldNode(j).find(F.adobeForm.options.attachmentButtonContainer)},attachmentButton:function(j){return this.attachmentButtonContainer(j).find(F.adobeForm.options.attachmentButton)},attachmentFile:function(j){return F(j).find(F.adobeForm.options.attachmentFile)},attachmentUI:function(j){return F(j).find(F.adobeForm.options.attachmentUI)},attachmentFileName:function(j){return(""+F(j).attr("__fileName")).replace(/^.*[/\\]/,"").replace(/<|>|&|'|"|\\/g,"")},attachmentFileExtension:function(j){return this.attachmentFileName(j).replace(/^.*\.(?=[^\.]*)|.*$/,"").toLowerCase()},attachmentFileSize:function(k){var j=F(k).attr("__fileSize");return !!j?this.formatFileSize(parseInt(j,10)):"&nbsp"},attachmentsInNode:function(j){return j.find(F.adobeForm.options.attachment)},attachmentButtonDisable:function(j){j.attr("disabled",true);F.browser.msie&&F.browser.version>6&&j.next().attr("disabled",true)},attachmentButtonEnable:function(j){j.removeAttr("disabled");F.browser.msie&&F.browser.version>6&&j.next().removeAttr("disabled")},attachmentNode:function(j){return this.parentNode(j,F.adobeForm.options.attachment)},fieldHasError:function(j){return this.fieldNode(j).is(F.adobeForm.options.fieldError)},formatFileSize:function(l){if(l>(1024*1024-1)){var k=F.adobeForm.messages.numberOfMegaBytes.replace("{0}",this.formatNumber(l/(1024*1024),true,1));return k}else{if(l>(1024-1)){var j=F.adobeForm.messages.numberOfKiloBytes.replace("{0}",this.formatNumber(l/1024,true,0));return j}else{if(l>=0){var m=F.adobeForm.messages.numberOfBytes.replace("{0}",this.formatNumber(l,true));return m}else{return"&nbsp;"}}}},reportStatus:function(j){this.pleaseWait.jqmHide();this.confirmMsg.html(j.message);this.gotoPage(this.formComplete);if(j.header){this.header.hide();this.infoHeader.show();this.infoHeaderText.html(this.infoHeaderText.html().replace(/@msg@/g,j.header))}this.saveStatus(j)},reportServerError:function(j){if(this.embed){this.notifyFormEvent("beforeRedirect",{redirectHeight:450})}this.callLater(function(){window.location=this.serverErrorPath+(this.serverErrorPath.indexOf("?")<0?"?":"&")+"errorCode="+j+(this.reqId?"&reqid="+this.reqId:"")});this.saveStatus({code:j})},validatePage:function(k,j){this.startTrace("validatePage");this.preValidate=j&&j.preValidate;var m=this.pageIsValid(k);if(m){this.trace("save errors");var l=this.errors();this.startTrace("validate");m=this.validator.form();this.endTrace("validate");if(!this.isEmpty(l)){this.showErrors(l)}}if(!m){this.showFirstErrorPage()}this.preValidate=false;this.endTrace("validatePage");return m},validateAllAttachments:function(){this.resetAttachmentErrors();var j=this.attachmentList();var k=[];j.each(function(m,n){var l=this.validateSingleAttachment(F(n));l.element&&k.push(l)}.bind(this));if(!k.length){F(F.adobeForm.options.attachmentList).each(function(m,n){var l=this.validateAttachmentTotalSizeAndCount(this.fieldNode(n));l.element&&k.push(l)}.bind(this))}if(k.length){this.showErrors(k);this.showFirstErrorPage()}},validateSingleAttachment:function(p){var r={};var s=this.fieldNode(p);var m=this.attachments[s.attr("id")];if(m&&!s.is(F.adobeForm.options.hideField)){var t=this.attachmentFileExtension(p);if(F.adobeForm.options.blackList.length){var o=F.adobeForm.options.blackList.split(",");var k=false;for(var n in o){k=t==o[n];if(k){break}}if(k){r.message=F.adobeForm.messages.IncorrectMimeType}}if(!r.message&&m.fileFormats.length){var o=m.fileFormats.split(",");var k=false;for(var n in o){k=t==o[n];if(k){break}}if(!k){r.message=F.adobeForm.messages.AcceptableFileTypes.replace("{0}",o.join(", "))}}if(!r.message){var l=p.attr("__fileSize");if(!!l){l=parseInt(l,10);if(!l){r.message=F.adobeForm.messages.TooSmall}else{if(l>m.maxFileSize){r.message=F.adobeForm.messages.TooLarge.replace("{0}",this.formatFileSize(m.maxFileSize))}}}}if(!r.message&&!F.browser.ios){var j=this.attachmentFileName(p);var u=this.attachmentFileSize(p);var q=this.attachmentsInNode(s).filter(function(v,w){return w!=p[0]&&this.attachmentFileName(w)==j&&this.attachmentFileSize(w)==u}.bind(this));if(q.length){r.message=F.adobeForm.messages.DuplicateFile}}}if(r.message){r.element=this.attachmentFile(p)[0]}return r},validateAttachmentTotalSizeAndCount:function(m){m=F(m);var l={};if(this.attachmentListNode(m).children().length>0){var k=this.attachments[m.attr("id")];if(k){var n=this.attachmentListNode(m).children().length-k.maxFiles;if(!l.message&&n>0){l.message=F.adobeForm.messages.CountExceeded.replace("{0}",""+k.maxFiles).replace("{1}",""+n)}}if(!l.message){var j=0;this.attachmentList().each(function(o,p){j+=parseInt(F(p).attr("__fileSize"),10)});if(j>this.attachmentUploadSize){l.message=F.adobeForm.messages.UploadSizeExceeded.replace("{0}",""+this.formatFileSize(this.attachmentUploadSize))}}if(l.message){l.element=this.attachmentButton(m)[0]}}return l},resetAttachmentErrors:function(){this.validator.errorList=this.filterArray.call(this.validator.errorList,function(l,j,m){var k=F(l.element);return !k.is(F.adobeForm.options.attachmentFile+", "+F.adobeForm.options.attachmentButton)||(k.is(F.adobeForm.options.required)&&!this.attachmentsInNode(this.fieldNode(k)).length)}.bind(this));F(F.adobeForm.options.attachment+", "+F.adobeForm.options.attachmentButton,this.visiblePage()).each(function(j,k){k=F(k);if(k.is(F.adobeForm.options.attachment)){k=this.attachmentFile(k)}if(k.length&&(!k.is(F.adobeForm.options.required)||!!this.attachmentsInNode(this.fieldNode(k)).length)){this.validator.settings.unhighlight.call(this.validator,k[0],this.validator.settings.errorClass,this.validator.settings.validClass)}}.bind(this))},showFirstErrorPage:function(){var n=this.visiblePage();var j=null;var o=this.errors();for(var k in o){var m=o[k].element;var l=this.page(m);if(l.length){if(j===null||l.index()<n.index()){n=l;j=m;if(n.index()==0){break}}}}this.pleaseWait.jqmHide();if(n.index()<this.hashedPage(this.pageHistory[this.pageHistoryIndex]).index()){var k=this.pageHistoryIndex-1;while(k>=0){if(this.compareHash(n,this.pageHistory[k])){break}--k}if(k>=0){history.go(k-this.pageHistoryIndex);this.pageHistoryIndex=k;this.gotoHash(this.pageHistory[this.pageHistoryIndex])}else{this.gotoPage(n)}}this.focusField(j)},gotoPage:function h(j){j=(j&&j.length)?j:F(this.formPage[this.isPaymentStatus?0:1]);var k=undefined;if(this.pageHistoryIndex+1>=this.pageHistory.length){k=this.pageHash(j);this.pageHistory[++this.pageHistoryIndex]=k;if(!this.embed||k==F.adobeForm.options.completePageHash){F.history.load(k)}}else{if(this.compareHash(j,this.pageHistory[this.pageHistoryIndex+1])){k=this.pageHistory[++this.pageHistoryIndex];if(!this.embed){history.forward()}}else{k=this.pageHash(j);this.pageHistory[++this.pageHistoryIndex]=k;this.pageHistory.splice(this.pageHistoryIndex+1,this.pageHistory.length-this.pageHistoryIndex-1);if(!this.embed){F.history.load(k)}}}this.gotoHash(k)},browserHashChanged:function(l){if(this.forceGotoNextPage){this.gotoPage(this.forceGotoNextPage);this.forceGotoNextPage=undefined;return }if(this.pageHistoryIndex>0&&l==this.pageHistory[this.pageHistoryIndex-1]){--this.pageHistoryIndex;this.gotoHash(l)}else{if(this.pageHistoryIndex+1<this.pageHistory.length&&l==this.pageHistory[this.pageHistoryIndex+1]){++this.pageHistoryIndex;var k=this.visiblePage();if(this.validatePage(k)){var j=this.nextPage(k);if((!j.length&&this.compareHash(F(this.formPage[0]),l))||this.compareHash(j,l)){this.gotoHash(l)}else{--this.pageHistoryIndex;history.back();this.forceGotoNextPage=j}}}else{if(this.hashedPage(l).length==0){this.gotoPage()}else{}}}},gotoHash:function(o){if(!this.form.is(":visible")){return }this.startTrace("gotoHash");var k=this.visiblePage();var n=this.hashedPage(o);this.infoHeader.hide();this.header.show();if(n.length&&(!this.firstPageInitialized||k.attr("id")!=n.attr("id"))){var m=n.index();if(this.atMostIEVersion(7)){if(!this.ruleSrcChangeHandlerInstalled){this.ruleSrcChangeHandlerInstalled={}}if(!this.ruleSrcChangeHandlerInstalled[m]){n.find(":input").each(function(q,r){var s=F(r);var t=s.attr("name");if(this.sourceDisplayRules.hasOwnProperty(t)){s.change(function(u){this.displayRuleUpdateUI(u)}.bind(this,t))}}.bind(this));this.ruleSrcChangeHandlerInstalled[m]=true}}this.visitedPages=this.computeVisitedPages(n);if(this.atMostIE6()){function j(q){var r=F(q);var s=parseInt(r.css("min-height"),10);if(s>0&&r.height()<s){r.height(s)}}j("#sizedcontent");(m==0)&&j("#confirmmsg")}if(this.firstPageInitialized){k.hide();n.show()}this.pageFix(n);if(!this.isPaymentStatus){if(this.paymentProvider){this.paymentLogoDiv.removeClass(F.adobeForm.options.paymentLogoWrap.substr(1));this.paymentLogoDiv.addClass(F.adobeForm.options.paymentLogoFit.substr(1))}if(this.saveFormContainer){this.saveFormContainer.removeClass(F.adobeForm.options.saveFormContainerWrap.substr(1))}(m>1)?this.prevButton.show():this.prevButton.hide();if(n.next().length){this.nextButton.val(F.adobeForm.messages.nextButtonText)}else{if(this.submitButtonLabel){this.nextButton.val(this.submitButtonLabel)}else{if(this.paymentProvider){this.nextButton.val(F.adobeForm.messages.paymentSubmitButtonText)}else{this.nextButton.val(F.adobeForm.messages.submitButtonText)}}}var p=F.adobeForm.messages.pageSpanMessage.replace(/%1/,m);p=p.replace(/%2/,this.formPage.length-1);this.pageCountSpan.text(p);if(this.nextButton.length){var l=this.nextButton.offset().top+this.nextButton.outerHeight()/2;if(this.paymentProvider&&this.paymentLogoDiv.offset().top>l){this.paymentLogoDiv.removeClass(F.adobeForm.options.paymentLogoFit.substr(1));this.paymentLogoDiv.addClass(F.adobeForm.options.paymentLogoWrap.substr(1))}}if(this.saveFormContainer&&this.saveFormContainer.offset().top>l){this.saveFormContainer.addClass(F.adobeForm.options.saveFormContainerWrap.substr(1))}this.updateUI();if(m){this.updateProgress()}}if(m==0||this.navButtonClicked){F(window).scrollTop(0)}(n.attr("id")==this.formComplete.attr("id"))?this.footer.hide():this.footer.show();if(m){this.notifyFormEvent("page",{page:m})}this.notifyFormResize();this.firstPageInitialized=true}this.endTrace("gotoHash")},pageHash:function(j){return j.attr(F.adobeForm.options.hashKey)},hashedPage:function(j){return F("#"+this.hash[j])},compareHash:function(j,k){return j&&j.length&&k==j.attr(F.adobeForm.options.hashKey)},displayRuleUpdateUI:function(j,o){var v=false;o=o||0;if(!j&&o){return v}var t=(typeof (j)=="string")?this.sourceDisplayRules[j]:this.displayRules;if(t){var m="displayRuleUpdateUI"+(j?" "+j:"");this.startTrace(m);if(!o){for(var p in this.displayRules){this.displayRules[p].evaluated=false}}for(var p in t){var s=t[p];if(typeof (s)!="object"){continue}if(s.evaluated){continue}s.evaluated=true;var u=false;for(var p in s.conditions){var l=s.conditions[p];if(typeof (l)!="object"){break}u=this.ruleConditionIsSatisfied(l);if(u&&s.match=="any"){break}if(!u&&s.match=="all"){break}}var r=(!u&&s.action=="show")||(u&&s.action=="hide");this.trace(m+(u?" satisfied":" not satisfied")+(r?" hide":" show")+" ["+s.targets.join()+"]");for(var p in s.targets){var k=F("#"+s.targets[p]);if(k.length){var n=k.find(F.adobeForm.options.attachmentButton);if(r){k.addClass(F.adobeForm.options.hideField.substr(1));this.parentNode(k,F.adobeForm.options.formRow).removeClass("f"+(k.index()+1));if(k.is(F.adobeForm.options.fieldError)){var q=k.find(F.adobeForm.options.fieldContent);if(q.is(F.adobeForm.options.choiceButton+", "+F.adobeForm.options.choiceTableData)){q=q.filter('[id$="_1"]')}q.each(function(w,x){this.validator.settings.unhighlight.call(this.validator,x,this.validator.settings.errorClass,this.validator.settings.validClass);this.validator.errorsFor(x).hide()}.bind(this))}}else{k.removeClass(F.adobeForm.options.hideField.substr(1));this.parentNode(k,F.adobeForm.options.formRow).addClass("f"+(k.index()+1));n.each(function(w,x){this.adjustAttachmentButtonContainer(F(x))}.bind(this))}v=v||!!n.length;if(k.is(F.adobeForm.options.likertField)){k.find(F.adobeForm.options.likertQuestion).each(function(w,x){var y=F(x).attr("id");v=(y&&this.displayRuleUpdateUI(y,o+1))||v}.bind(this))}else{v=this.displayRuleUpdateUI(k.attr("id"),o+1)||v}}}}if(!o){this.updateUI();if(v){this.validateAllAttachments()}this.notifyFormResize()}this.endTrace(m)}return v},ruleConditionIsSatisfied:function(m){var k=this.fieldValue(m.source);var j=this.fieldType(m.source);var l=false;if(j!="hidden"&&((k.length&&k[0].length)||(j!="ss"&&j!="lk"))){switch(m.test){case"eq":l=F.inArray(m.value,k)>=0;break;case"ne":l=F.inArray(m.value,k)<0;break}}return l},fieldValue:function(k){var n=[];var m=F("#"+k);var j=this.getFieldType(m);var l=m.find(F.adobeForm.options.fieldContent);if(l.length){if(j=="ss"||j=="ms"||j=="lk"){n=l.map(function(){return(this.checked&&this.value)?this.value:undefined}).get();otherText=m.find(F.adobeForm.options.choiceOtherText);if(otherText.length&&this.textToOther(otherText).attr("checked")){n.push(F.adobeForm.options.otherChoice)}}else{if(this.isDropDownOtherSelected(l)){n.push(F.adobeForm.options.otherChoice)}else{if(j=="cb"){n.push(l.prop("checked")?"true":"false")}else{n.push(l.prop("value"))}}}}return n},fieldType:function(j){var k=F("#"+j);return this.fieldIsHidden(k)?"hidden":this.getFieldType(k)},fieldIsHidden:function(k){var j=this.fieldNode(k);return j.length&&(!this.visitedPages[this.page(j).attr("id")]||j.is(F.adobeForm.options.hideField))},updateUI:function(){var k=this.visiblePage();var j=this.nextPage(k);var l=!j.length;this.nextButton.val(!l?F.adobeForm.messages.nextButtonText:(this.submitButtonLabel?this.submitButtonLabel:(this.paymentProvider?F.adobeForm.messages.paymentSubmitButtonText:F.adobeForm.messages.submitButtonText)));if(this.disablePayments&&this.paymentProvider){if(l){this.nextButton.attr("disabled",true)}else{this.nextButton.removeAttr("disabled")}}if(l&&this.attachmentList().length){F(F.adobeForm.options.attachmentLegal).show()}else{F(F.adobeForm.options.attachmentLegal).hide()}if(this.hasProgressBar){if(l||k.index()==1){this.progressBar.hide()}else{this.progressBar.show()}}},updateProgress:function(j){if(this.isVisible(this.progressBar)){function k(l){this.progressBarValue.css("width",""+l+"%");this.progressBarText.text(F.adobeForm.messages.progressBarText.replace(/%1/,l))}if(j===undefined){this.computeProgress(function(l){k.call(this,l)})}else{k.call(this,j)}}},computeProgress:function(q){if(this.atMostIEVersion(7)&&this.formPage.length>3){var n=Math.round(100*(this.visiblePage().index()-1)/(this.formPage.length-1));q&&q.call(this,n);return }function k(){return Math.round(100*this.elementsPerPage[this.visiblePage().index()]/this.elementsPerPage[this.elementsPerPage.length-1])}if(!this.elementsPerPage&&!this.computeProgressThread){function m(){this.startTrace("computeProgress");this.elementsPerPage=[];for(var r=0;r<=this.formPage.length;r++){this.elementsPerPage[r]=0}}function p(t){this.trace("computeProgress on Page: "+t);var s=F(this.formPage[t]).find(":input");this.trace("computeProgress on Page count");var r={};s.each(function(w,x){x=F(x);var v=x.attr("name");var u=r[v]===undefined&&this.page(x).length&&!this.isOtherText(x);if(u){r[v]=true;this.elementsPerPage[t]++}}.bind(this))}function j(){var r=0;for(var t=1;t<this.elementsPerPage.length;t++){var s=this.elementsPerPage[t];this.elementsPerPage[t]=this.elementsPerPage[t-1]+r;r=s}if(q){q.call(this,k.call(this))}this.computeProgressThread=undefined;this.endTrace("computeProgress")}var o=[m];for(var l=1;l<this.formPage.length;l++){o.push(p.bind(this,l))}o.push(j);this.computeProgressThread=this.execute(o)}else{if(q){if(this.computeProgressThread){this.computeProgressThread.tasks.push(function(){q.call(this,k.call(this))})}else{q.call(this,k.call(this))}}}},reportAbuse:function(){var j=this.serverPath+"redir/abuse_report_form?lang="+F.adobeForm.options.localeSettings.language+"&selectedDocuments="+this.formId;window.open(j,"_blank","width=670,height=500,location=no,menubar=no,status=no,toolbar=no,scrollbars=no",false)},parseNumeric:function(k){var j=this.parsePercent(k);if(j==null){j=this.parseCurrency(k)}if(j==null){j=this.parseNumber(k)}return j},parseNumber:function(j){return this.parseNumberHelper(j,true,true)},parsePositiveInt:function(j){return this.parseNumberHelper(j,false,false)},parseNumberHelper:function(m,n,t){var s=F.trim(m);var v=F.adobeForm.options.localeSettings.numberFormatSettings.decimalSeparator;v=this.escapeRegExpSpecialCharacters(v);v="(?:%1)".replace(/\%1/,v);var u=F.adobeForm.options.localeSettings.numberFormatSettings.thousandsSeparator;u=this.escapeRegExpSpecialCharacters(u);u="(?:%1)".replace(/\%1/,u);s=s.replace(new RegExp(u,"g"),"");s=s.replace(/\s+/g,"");var r="(?:\\d{1,3}(?:%1\\d{3})+)".replace(/\%1/,u);var l="(?:\\d+)";var p="(?:%1|%2)".replace(/\%1/,r).replace(/\%2/,l);var o="(?:%1?%2%3)".replace(/\%1/,p).replace(/\%2/,v).replace(/\%3/,l);var x=t?"(?:%1|%2)".replace(/\%1/,p).replace(/\%2/,o):p;var q=n?"^-?%1$":"^%1$";q=q.replace(/\%1/,x);var w=new RegExp(q);if(!w.test(s)){return null}var j=new RegExp(u,"g");s=s.replace(j,"");var k=new RegExp(v);s=s.replace(k,".");return parseFloat(s)},parsePositivePriceNumber:function(j){return this.parseCurrencyHelper(j,false,false)},parseCurrency:function(j){return this.parseCurrencyHelper(j,true,true)},parsePositiveCurrency:function(j){return this.parseCurrencyHelper(j,false,true)},parseCurrencyHelper:function(s,j,o){var t=F.adobeForm.options.localeSettings.numberFormatSettings;var q=t.currencySymbol;q=this.escapeRegExpSpecialCharacters(q);q="(?:%1)".replace(/\%1/,q);var r=null;for(var n=0;n<t.currencySymbolAlternates.length;n++){var l=t.currencySymbolAlternates[n];var m="(?:%1)".replace(/\%1/,l);if(r==null){r=""}else{r+="|"}r+=m}if(r!=null){q="(?:%1|%2)".replace(/\%1/,q).replace(/\%2/,r)}var u=new RegExp("%1\\s*$".replace(/\%1/,q),"i");var k=new RegExp("^\\s*%1".replace(/\%1/,q),"i");var v=new RegExp("^\\s*-\\s*%1".replace(/\%1/,q),"i");var p;if(!o){p=s}else{if(u.test(s)){p=s.replace(u,"")}else{if(k.test(s)){p=s.replace(k,"")}else{if(v.test(s)){p=s.replace(v,"-")}else{p=s}}}}return this.parseNumberHelper(p,j,true)},parsePercent:function(j){var k=j.replace(/\%\s*$/,"");return this.parseNumber(k)},escapeRegExpSpecialCharacters:function(j){return j.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},parseDate:function(t){if(!t){return null}t=F.trim(t);var p=F.adobeForm.options.localeSettings.dateFormatSettings.separator;var k=F.adobeForm.options.localeSettings.dateFormatSettings.ordering;var y=F.adobeForm.options.dateOrdering.dayFirst;var l=F.adobeForm.options.dateOrdering.monthFirst;var z=F.adobeForm.options.dateOrdering.yearFirst;var w;var m;var n;if(p.length==1){var q=t.split(p);if(q.length==3){switch(k){case l:w=q[1];m=q[0];n=q[2];break;case y:w=q[0];m=q[1];n=q[2];break;case z:w=q[2];m=q[1];n=q[0];break}}else{return null}}else{var v=t.indexOf(p.charAt(0));var o=t.indexOf(p.charAt(1));var j=t.indexOf(p.charAt(2));if(v==-1||o==-1||j==-1){return null}var s;var u;var r;switch(k){case y:r=0;u=j+1;s=o+1;break;case l:u=0;r=o+1;s=j+1;break;case z:s=0;u=v+1;r=o+1;break}w=t.substring(r,j);m=t.substring(u,o);n=t.substring(s,v)}w=parseInt(w,10);m=parseInt(m,10);n=parseInt(n,10);if(n>=0&&n<=99){n+=2000}var x=new Date(n,m-1,w);if(x.getFullYear()==n&&x.getMonth()==m-1&&x.getDate()==w){return x}return null},formatNumber:function(l,j,n){if(n!==undefined){l=l.toFixed(n)}var o=""+l;var m=o.split(".");var k=m[0];if(j){var p=F.adobeForm.options.localeSettings.numberFormatSettings.thousandsSeparator;var r=/(\d+)(\d{3})/;while(r.test(k)){k=k.replace(r,"$1"+p+"$2")}}var s=k;if(m.length==2){var q=F.adobeForm.options.localeSettings.numberFormatSettings.decimalSeparator;s=s+q+m[1]}return s},formatCurrency:function(n,m,l){var o=F.adobeForm.options.localeSettings.numberFormatSettings.currencySymbol;var k=2;if(!F.adobeForm.options.localeSettings.numberFormatSettings.currencyAllowsFractions){k=0}var j=this.formatNumber(n,l,k);if(m){if(F.adobeForm.options.localeSettings.numberFormatSettings.currencySymbolPlacement==0){j=/^-/.test(j)?j.replace(/^-/,"-"+o):o+j}else{j+=o}}return j},formatPercent:function(j){var k=this.formatNumber(j,true);if(F.adobeForm.options.localeSettings.numberFormatSettings.percentFormattedWithSpace){k+=" "}return k+"%"},formatDate:function(k){var m=F.adobeForm.options.localeSettings.dateFormatSettings.separator;var s;var l;var o;var j;if(m.length==1){s="";l="";o="";j=m}else{s=m.charAt(0);l=m.charAt(1);o=m.charAt(2);j=""}var q=k.getFullYear();var p=k.getMonth()+1;var r=k.getDate();p="00"+p;p=p.substring(p.length-2,p.length);r="00"+r;r=r.substring(r.length-2,r.length);q+=s;p+=l;r+=o;var n;switch(F.adobeForm.options.localeSettings.dateFormatSettings.ordering){case F.adobeForm.options.dateOrdering.monthFirst:n=[p,r,q];break;case F.adobeForm.options.dateOrdering.dayFirst:n=[r,p,q];break;case F.adobeForm.options.dateOrdering.yearFirst:n=[q,p,r];break}var t=n.join(j);return t},firstField:function(){var j=this.visiblePage().attr("id");var k=this.form.find(":input").filter(function(l,m){return this.page(m).attr("id")==j}.bind(this));return F(k[0])},focusField:function(j){if(j){j=F(j);if(!j.is(F.adobeForm.options.attachmentFile)){if(j.is(F.adobeForm.options.datePicker)){j.unbind("focus",F.datepicker._showDatepicker)}j.focus();if(j.is(F.adobeForm.options.datePicker)){setTimeout(function(){j.bind("focus",F.datepicker._showDatepicker)},125)}}}},element:function(j){this.startTrace("element");j=F(j);if(this.atMostIE6()||!j.is(F.adobeForm.options.attachmentFile)||this.attachmentNode(j).length){F.validator.prototype.element.call(this.validator,j[0])}if(!j[0].errorBeforeFocusOut&&F(j).is(F.adobeForm.options.validationError)){this.focusField(j)}this.endTrace("element")},formatAndAdd:function(k,m){var l=this.defaultMessage(k,m.method);var j=new RegExp("\\$?\\{(\\d+)\\}","g");if(typeof l=="function"){l=l.call(this,m.parameters,k)}else{if(j.test(l)){l=jQuery.format(l.replace(j,"{$1}"),m.parameters)}}this.errorList.push({message:l,element:k,method:m.method});this.errorMap[k.name]=l;this.submitted[k.name]=l},pageIsValid:function(j){return this.isEmpty(this.errorsOnPage(j))},errorsOnPage:function(k){this.startTrace("errorsOnPage");var j=k.attr("id");var l=this.filterArray.call(this.errors(),function(m){return this.page(m.element).attr("id")==j}.bind(this));this.endTrace("errorsOnPage");return l},errors:function(){this.startTrace("errors");var j=this.validator.errors().map(function(m,o){o=F(o);var l=this.fieldNode(o);var k=o.attr("for");var n=F("#%idOrName%:input".replace(/%idOrName%/g,k)).add("input[name=%idOrName%]:first".replace(/%idOrName%/g,k));return n.length?{element:n[0],message:o.text()}:undefined}.bind(this)).get();this.endTrace("errors");return j},showErrors:function(n){this.startTrace("showErrors");if(n){for(var l in n){var k=n[l].element;var m=n[l].message;var j=F(k).attr("name");this.validator.submitted[j]=m;this.validator.errorMap[j]=m;this.validator.errorList.push({element:k,message:m})}this.validator.successList=F.grep(this.validator.successList,function(o){return !(o.name in this.validator.errorMap)}.bind(this))}this.validator.settings.showErrors?this.validator.settings.showErrors.call(this.validator,this.validator.errorMap,this.validator.errorList):this.validator.defaultShowErrors();this.notifyFormResize();this.endTrace("showErrors")},page:function(j){return this.parentNode(j,F.adobeForm.options.formPage)},likertQuestion:function(j){return this.parentNode(j,F.adobeForm.options.likertQuestion)},errorMessageContainer:function(j){return this.errorContext(j).find(F.adobeForm.options.fieldError+":last")},errorContext:function(k){k=F(k);var j;if(k.is(F.adobeForm.options.choiceTableData)){j=this.parentNode(k,F.adobeForm.options.ctQNodeType).next()}else{if(k.is(F.adobeForm.options.attachment+" "+F.adobeForm.options.attachmentFile)){j=this.attachmentNode(k)}else{j=this.fieldNode(k)}}return j},fieldNode:function(j){return this.parentNode(j,F.adobeForm.options.field)},parentNode:function(j,k){return F(j).closest(k)},visiblePage:function(){var j=this;return this.formPage.filter(function(){return j.isVisible(this)})},isVisible:function(k){k=F(k);var j=k.css("display");if(!j){j=""}return j.search(/none/)<0},fieldName:function(k){var j=typeof (k)=="string"?k:this.fieldNode(k).attr("id");return this.ids[j]},htmlName:function(l){var j=undefined;for(var k in this.ids){if(this.ids[k]==l){j=k;break}}return j},notifyFormResize:function(){if(this.embed){var j=this.form.height();var l=this.form.width();if(!j&&!this.form.is(":visible")){return }if(this.isVisible(this.pleaseWait)){var m=this.pleaseWait.height()+60;if(m>j){j=m}}var k=!!this.lastVisiblePage&&this.lastVisiblePage!=this.visiblePage().attr("id");this.lastVisiblePage=this.visiblePage().attr("id");if(j!=this.lastResizeHeight||k){this.resizeChangeCount=5;this.lastResizeHeight=j;this.notifyFormEvent("heightChanged",{height:j,width:l,pageChange:k})}if(this.resizeChangeCount){this.callLater(function(){if(this.resizeChangeCount){this.resizeChangeCount--;this.notifyFormResize()}})}}},notifyFormEvent:function(j,m){if(this.embed&&(typeof j=="string")){var k="";if((!window.postMessage||!this.isDevelopment)&&j!="init"&&j!="heightChanged"&&j!="beforeRedirect"){return }if(this.legacyEmbedScript){if(j!="heightChanged"){return }k="heightChanged="+m.height+";formId="+this.formId}else{k="name="+j+";formId="+this.formId;if(!this.messageSent){k+=";ping=true";this.messageSent=true}for(var l in m){k+=";"+l+"="+m[l]}}this.messageQueue.push(encodeURIComponent(k));this.processEventMessageQueue()}},processEventMessageQueue:function(k){if(this.messageQueue.length>0){if(k||this.messageIntervalId==null){if(this.messageIntervalId==null){this.messageIntervalId=setInterval(this.processEventMessageQueue.bind(this,true),100)}var l=this.messageQueue.shift();if(window.postMessage){try{parent.postMessage(l,this.targetUrl)}catch(j){}}else{window.top.location=this.targetUrl+"#_@@fc"+l}}}else{clearInterval(this.messageIntervalId);this.messageIntervalId=null}},initTextAreaResizeFix:function Y(){if(!this.embed||F.browser.msie){return }F(document).mouseup(function(){var j=this.allTextareas[this.visiblePage().attr("id")];if(!j){return }var k=false;j.each(function(m,l){var l=F(l);if(l.outerWidth()!=l.data("x")||l.outerHeight()!=l.data("y")){l.data("x",l.outerWidth());l.data("y",l.outerHeight());k=true}return !k});if(k){this.notifyFormResize()}}.bind(this))},textAreaResizeFix:function(m){if(!this.embed||F.browser.msie){return }var k=this.visiblePage();var j=k.attr("id");var l=this.allTextareas[j];if(!l){this.allTextareas[j]=l=F("textarea",k);l.each(function(o,n){n=F(n);n.data("x",n.outerWidth());n.data("y",n.outerHeight())})}},pageFix:function(k){this.startTrace("pageFix");this.controlFix(k);this.captionHeightFix(k);this.pngFix(k.find(F.adobeForm.options.pngFix));var j=F("#page"+k.index()+" .attachmentbutton");j.each(function(l,m){this.adjustAttachmentButtonContainer(F(m))}.bind(this));this.textAreaResizeFix(k);this.endTrace("pageFix")},controlFix:function(j){if(j&&j.length&&!this.controlFix[j.attr("id")]){this.startTrace("controlFix");j.find(F.adobeForm.options.field).each(function(k,n){n=F(n);var m=n.find(F.adobeForm.options.control);if(!m.css("width")){var l=n.find(F.adobeForm.options.attachments).length?this.fieldContentWidth:n.width();if(l>0){m.width(n.is(F.adobeForm.options.capAbove)?l:l-n.find(F.adobeForm.options.caption).width()-n.find(F.adobeForm.options.helpButton).width())}}});this.controlFix[j.attr("id")]=true;this.endTrace("controlFix")}},captionHeightFix:function(j){if(j&&j.length&&!this.captionHeightFix[j.attr("id")]){this.startTrace("captionHeightFix");j.find(F.adobeForm.options.formRow).each(function(m,n){n=F(n);var l=n.find(".caption.capabove");var k=0;l.each(function(p,o){k=Math.max(F(o).height(),k)});if(k){l.each(function(p,o){o=F(o);var q=k-o.height();if(q>0){o.add(this.fieldNode(o).find(F.adobeForm.options.helpButton)).css("margin-top",q+"px")}}.bind(this))}}.bind(this));this.captionHeightFix[j.attr("id")]=true;this.endTrace("captionHeightFix")}},pngFix:function(k){if(this.atMostIE6()){var n=/\.png/i;var m="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='";var l="',sizingMethod='scale')";var j=this.assetPath+"images/clear.gif";k.each(function(o,q){var p=q.style;if(q.src&&q.src.match(n)&&!p.filter){if(/promo_brandmark\.png/.test(q.src)){p.height=21;p.width=197}else{p.height=q.height?q.height:F(q).outerHeight();p.width=q.width?q.width:F(q).outerWidth()}p.filter=m+q.src+l;q.src=j}})}},preloadImages:function K(){if(document.images){var k=[this.assetPath+"css/images/grey_BtnSkin.png",this.assetPath+"css/images/grey_BtnSkin_over.png"];var l=new Image();for(var j=0;j<k.length;j++){l.src=k[j]}}},unescapeMessages:function(k){for(var j in k){if(k.hasOwnProperty(j)){k[j]=unescape(k[j])}}},xmlEncode:function(j){return(j||"").replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&apos;").replace(/\"/g,"&quot;").replace(/\r\n/g,"&#xA;").replace(/\r/g,"&#xA;").replace(/\n/g,"&#xA;")},execute:function(j){if(typeof (j)=="object"){if(j.length!==undefined){j={tasks:j,autoNextTask:true};j.args=[j]}else{if(typeof (j.tasks)!="object"||!j.tasks.length){j.tasks=[]}if(typeof (j.args)=="undefined"){j.args=[j]}if(typeof (j.args)!="object"||!j.args.length){j.args=[]}if(typeof (j.autoNextTask)!="boolean"){j.autoNextTask=true}}}else{j={tasks:[],autoNextTask:true};j.args=[j]}if(typeof (j.task)!="number"){j.adobeForm=this;j.task=0;j.numErrors=0;j.nextTaskScheduled=false;j.notifyTaskError=function(){this.numErrors++};j.errorsEncountered=function(){return this.numErrors>0};j.terminate=function(){this.adobeForm.trace("Thread completed ["+F.map(this.tasks,function(k){return k.name||"anonymous"}).join()+"]");this.tasks=[];this.args=undefined};j.nextTask=function(){if(this.nextTaskScheduled){return }this.nextTaskScheduled=true;setTimeout(function(){if(this.tasks.length){if(this.task<this.tasks.length){var k=this.tasks[this.task].name||"anonymous";try{this.nextTaskScheduled=false;this.adobeForm.startTrace(k);this.tasks[this.task].apply(this.adobeForm,this.args);this.adobeForm.endTrace(k)}catch(l){F.adobeForm.log("Error executing task "+this.task+": "+k+".  "+F.adobeForm.messages.pleaseContact);this.notifyTaskError()}this.task++;if(this.autoNextTask){this.nextTask()}}else{this.terminate()}}}.bind(this),1);return this}}return j.nextTask()},isEmpty:function(k){for(var j in k){return false}return true},atMostIE6:function(){return this.atMostIEVersion(6)},atMostIEVersion:function(j){return F.browser.msie&&F.browser.version<j+1},initBrowserInfo:function(){if(!F.browser){uaMatch=function(o){o=o.toLowerCase();var n=/(chrome)[ \/]([\w.]+)/.exec(o)||/(webkit)[ \/]([\w.]+)/.exec(o)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(o)||/(msie) ([\w.]+)/.exec(o)||(o.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(o))||[];return{browser:n[1]||"",version:n[2]||"0"}};F.browser={};var j=uaMatch(navigator.userAgent);if(j.browser){F.browser[j.browser]=true;F.browser.version=j.version}if(F.browser.chrome){F.browser.webkit=true}else{if(F.browser.webkit){F.browser.safari=true}}}var l=navigator.userAgent;var k=null;if(k=/Android (\d*\.\d*(?:\.\d*)?)/.exec(l)){F.browser.android=true;F.browser.mobile=true;F.browser.version=k[1]||"0"}else{if(/iPhone|iPad/.test(l)&&(k=/OS (\d+_\d+)/.exec(l))){F.browser.ios=true;F.browser.mobile=true;k[1]=k[1].replace(/_/,".");F.browser.version=k[1]}else{if(!F.browser.msie&&/Windows NT (\d+\.\d+)/.test(l)&&/like Gecko/.test(l)&&(k=/[( ;]rv:(\d+\.\d+)/.exec(l))){F.browser.msie=true;F.browser.version=k[1]}}}if(F.browser.msie){var m=/Windows NT (\d+\.\d+)/.exec(l);if(!m){m=/Windows Phone (\d+\.\d+)/.exec(l);F.browser.mobile=true}F.browser.osVersion=(m&&m.length==2)?m[1]:"6.1"}},parseProperties:function(j,k){var n={};var o=j.substring(j.indexOf("?")+1).split("&");for(var m=0;m<o.length;m++){var q=o[m].split("=");var l=decodeURIComponent(q[0]);if(l){var p=q[1]!==undefined?decodeURIComponent(q[1]):null;if(p){if(/^\s*true\s*$/i.exec(p)){p=true}else{if(/^\s*false\s*$/i.exec(p)){p=false}else{if(/^\s*[-+]?\d+\s*$/.exec(p)){p=parseInt(p,10)}else{if(/^\s*[-+]?[\d]*\.?[\d]+\s*$/.exec(p)){p=parseFloat(p)}}}}}if(n[l]!==undefined){if(!F.isArray(n[l])){n[l]=[n[l]]}n[l].push(p)}else{n[l]=p}}}for(var m in k){if(k.hasOwnProperty(m)&&n[m]===undefined){n[m]=k[m]}}return n},parseCookies:function(o){var l={};o=o||document.cookie;if(o){var m=o.split(";");for(var k=0;k<m.length;k++){var j=m[k].replace(/^[ \t]+/,"");var n=j.indexOf("=");if(n){l[j.substring(0,n)]=decodeURIComponent(j.substring(n+1))}}}return l},callLater:function(k,j){setTimeout(k.bind(this),j||100)},startTrace:function(k,j){j=j||{};j.start=true;this.trace(k,j)},endTrace:function(k,j){j=j||{};j.end=true;this.trace(k,j)},trace:function(m,j){if(this.isDevelopment&&this.properties.enableTrace!==undefined){j=j||{};var l=new Date();if(j.reset||!this.trace.initial){this.trace.initial=this.trace.previous=l}if(j.start){this.trace[m]=l}var k=(l.toISOString?l.toISOString():l.toString())+" : TRACE : "+(l-this.trace.initial)+((j.start||!j.end)?" : "+(l-this.trace.previous):"")+(j.end&&this.trace[m]?" : "+(l-this.trace[m]):"")+" : "+(j.start?"begin ":j.end?"end ":"")+m;F.adobeForm.log(k,{});if(j.end){delete this.trace[m]}this.trace.previous=l}},filterArray:function(k){if(this===void 0||this===null){throw new TypeError()}var o=Object(this);var j=o.length>>>0;if(typeof k!=="function"){throw new TypeError()}var n=[];var m=arguments[1];for(var l=0;l<j;l++){if(l in o){var p=o[l];if(k.call(m,p,l,o)){n.push(p)}}}return n}}});if(!Function.prototype.bind){Function.prototype.bind=function(k,m){if(typeof (this)!="function"){throw new TypeError("Function.prototype.bind - attempt to bind to a non function")}var j=this;var o=arguments[0];var q=Array.prototype.slice.call(arguments,1);var n=function(){};n.prototype=j.prototype;function l(){return j.apply(this instanceof n&&o?this:o,q.concat(Array.prototype.slice.call(arguments)))}var p=undefined;switch(j.length){default:case 0:p=function(){return l.apply(this,arguments)};break;case 1:p=function(r){return l.apply(this,arguments)};break;case 2:p=function(s,r){return l.apply(this,arguments)};break;case 3:p=function(s,r,t){return l.apply(this,arguments)};break;case 4:p=function(s,r,u,t){return l.apply(this,arguments)};break;case 5:p=function(s,r,v,u,t){return l.apply(this,arguments)};break;case 6:p=function(s,r,w,v,u,t){return l.apply(this,arguments)};break;case 7:p=function(s,r,x,w,v,u,t){return l.apply(this,arguments)};break;case 8:p=function(s,r,y,x,w,v,u,t){return l.apply(this,arguments)};break;case 9:p=function(z,y,x,w,v,u,t,s,r){return l.apply(this,arguments)};break}p.prototype=new n();return p}}})(jQuery);